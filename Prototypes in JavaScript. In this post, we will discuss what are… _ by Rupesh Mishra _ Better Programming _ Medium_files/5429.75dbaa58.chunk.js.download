(self.webpackChunklite=self.webpackChunklite||[]).push([[5429],{59116:(e,t,n)=>{"use strict";n.d(t,{Te:()=>r,_M:()=>o,ed:()=>i});var r=function(e){if(!e)return!1;var t=e.graphQLErrors;return!!t&&!!t.find((function(e){return 2===e.type&&1===e.path.length}))},o=function(e){if(!e)return!1;var t=e.graphQLErrors;return!!t&&!!t.find((function(e){var t;return"RESPONSE_LOCKED"===(null===(t=e.extensions)||void 0===t?void 0:t.code)}))},i=function(e){return!(!e||0===e.length||!e.find((function(e){var t;return"TOO_MANY_REQUESTS"===(null===(t=e.extensions)||void 0===t?void 0:t.code)})))}},64946:(e,t,n)=>{"use strict";n.d(t,{a:()=>h,C:()=>v});var r=n(28655),o=n.n(r),i=n(71439),s=n(67294),a=n(12291),l=n(72826);function c(){var e=o()(["\n  fragment PostCacheTagger_post on Post {\n    id\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n  }\n"]);return c=function(){return e},e}var u=function(e){var t=e.post,n=t.id,r=t.collection,o=t.creator,i=["post-".concat(n)];o&&o.id&&i.push("user-".concat(o.id)),r&&r.id&&i.push("collection-".concat(r.id));var s=(0,a.I0)();return 0===(0,a.v9)((function(e){return e.cache.tags})).length&&s((0,l.zl)(i)),null},p=(0,i.Ps)(c()),d=n(85740),m=n(74165),g=n(31235);function f(){var e=o()(["\n  fragment PostCacheController_post on Post {\n    id\n    isLocked\n    ...PostCacheTagger_post\n  }\n  ","\n"]);return f=function(){return e},e}var h=function(e){var t=e.post,n=e.isLoggedIn,r=(0,d.gc)("post_edge_cache_enabled"),o=r.loading,i=r.error,c=r.value,p=(0,a.I0)(),f=(0,g.Nd)();return o||i||t.isLocked?null:c?(f!==m._.Enabled&&p((0,l.Yf)(m._.Enabled)),s.createElement(u,{post:t})):(n||f===m._.Control||p((0,l.Yf)(m._.Control)),null)},v=(0,i.Ps)(f(),p)},78067:(e,t,n)=>{"use strict";var r;n.d(t,{r:()=>r}),function(e){e.FULL="web-full",e.INLINE_HOMEPAGE_TOP="web-inline-homepage-top",e.INLINE_POST_RESPONSE="web-inline-post-response",e.INLINE_NEWSLETTER="web-inline-newsletter",e.INLINE_QUOTE_RESPONSES="web-inline-quote-responses"}(r||(r={}))},5399:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var r=n(28655),o=n.n(r);function i(){var e=o()(["\n  fragment getSlateBodyFromPostBodyModel_bodyModel on RichText {\n    paragraphs {\n      id\n      name\n      text\n      type\n      markups {\n        type\n        start\n        end\n        href\n        anchorType\n        userId\n        linkMetadata {\n          httpStatus\n        }\n      }\n    }\n  }\n"]);return i=function(){return e},e}var s=(0,n(71439).Ps)(i())},94132:(e,t,n)=>{"use strict";n.d(t,{T:()=>E});var r=n(59713),o=n.n(r),i=n(67294),s=n(12291),a=n(60046),l=n(82418),c=n(97145),u=n(89894),p=n(80735),d=n(28309),m=n(67122),g=n(27952);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.authDomain,n=e.productName;return i.createElement(u.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(u.xu,{paddingBottom:"8px"},i.createElement(u.rU,{href:(0,g.GM)(t,n)},i.createElement(p.X6,{scale:"S"},"Share your thinking."))),i.createElement(p.F,{scale:"M"},"If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic."," ",i.createElement(u.rU,{href:(0,g.GM)(t,n),inline:!0,linkStyle:"OBVIOUS"},"Write on ",n)))},E=function(e){var t=e.slimFooter,n=(0,s.v9)((function(e){return{authDomain:e.config.authDomain,productName:e.config.productName}}),s.wU),r=n.authDomain,o=n.productName,f=(0,d.Fg)(),E=h(h({},f),{},{baseColor:h(h({},f.baseColor),{},{background:{light:m.Uy(.76),normal:m.Uy(.84),dark:m.Uy(.9)},border:{lighter:m.l9(.1),light:m.l9(.2),normal:m.l9(.34),dark:m.l9(.54),darker:m.l9(.84)},fill:{lighter:m.l9(.7),light:m.l9(.8),normal:m.l9(.98),dark:m.l9(.99),darker:m.l9(1)},text:{lighter:m.l9(.7),light:m.l9(.8),normal:m.l9(.98),dark:m.l9(.99),darker:m.l9(1)}})});return i.createElement(u.f6,{theme:E},i.createElement(u.xu,{backgroundColor:"BASE_DARK",padding:"".concat(t?"32px":"60px"," 0"),sm:{padding:"32px 0"}},i.createElement(u.Pm,null,t?null:i.createElement(u.xu,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},i.createElement(u.xu,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},i.createElement(u.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(u.xu,{paddingBottom:"8px"},i.createElement(u.rU,{href:(0,g.jQ)({authDomain:r,autoplay:!0})},i.createElement(p.X6,{scale:"S"},"Learn more."))),i.createElement(p.F,{scale:"M"},o," is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface."," ",i.createElement(u.rU,{href:(0,g.jQ)({authDomain:r,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Learn more"))),i.createElement(u.xu,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(u.xu,{paddingBottom:"8px"},i.createElement(u.rU,{href:(0,g.a4)(r)},i.createElement(p.X6,{scale:"S"},"Make ",o," yours."))),i.createElement(p.F,{scale:"M"},"Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox."," ",i.createElement(u.rU,{href:(0,g.a4)(r),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),i.createElement(v,{authDomain:r,productName:o}))),i.createElement(u.xu,{display:"flex",flexDirection:"column"},i.createElement(u.xu,{alignItems:"center",display:"flex",justifyContent:"space-between"},i.createElement(u.rU,{href:"https://".concat(r,"/"),ariaLabel:"Go to homepage"},i.createElement(a.Rv,{fill:m.ix})),i.createElement(p.F,{scale:"M"},i.createElement(u.xu,{display:"flex",justifyContent:"space-between",paddingTop:"8px",width:"200px",sm:{display:"flex",width:"140px"}},i.createElement(p.F,{color:"DARKER",scale:"L"},i.createElement(u.rU,{href:(0,g.jQ)({authDomain:r}),inline:!0},"About")),i.createElement(p.F,{color:"DARKER",scale:"L"},i.createElement(u.rU,{href:(0,g.Xp)(),inline:!0},"Help")),i.createElement(p.F,{color:"DARKER",scale:"L"},i.createElement(u.rU,{href:(0,g.xB)(),inline:!0},"Legal"))))),i.createElement(i.Fragment,null,i.createElement(u.xu,{display:"none",sm:{display:"flex",marginBottom:"16px",marginTop:"30px"}},i.createElement(p.F,{color:"LIGHTER",scale:"L"},"Get the Medium app")),i.createElement(u.xu,{display:"none",sm:{display:"flex",flexDirection:"row",marginBottom:"16px",width:"100%"}},i.createElement(u.xu,{marginRight:"16px"},i.createElement(c.E,{entryPoint:"postPageFooter"})),i.createElement(u.xu,null,i.createElement(l.H,{entryPoint:"postPageFooter"}))))))))}},31933:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(67294),o=n(89894),i=n(67122),s=function(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement(o.xu,{marginTop:"-240px",background:"linear-gradient(".concat((0,i.l9)(0),",\n        ").concat((0,i.l9)(.5),",\n        ").concat((0,i.l9)(1),")"),height:"250px",position:"relative",width:"100%"}),r.createElement(o.xu,{backgroundColor:"BACKGROUND"},r.createElement(o.xu,{margin:"auto",maxWidth:"760px",sm:{margin:"0 18px 0"}},t)))}},4995:(e,t,n)=>{"use strict";n.d(t,{P:()=>A,F:()=>C});var r=n(28655),o=n.n(r),i=n(71439),s=n(67294),a=n(12291),l=n(31933),c=n(51562),u=n(85740),p=n(9785),d=n(324),m=n(37258),g=n(19608),f=n(27168),h=n(48881),v=n(62876),E=n(89894),b=n(80735),y=n(62240),x=n(62630),P=n(27572),S=n(96907),R=n(33572),I=n(85277),O=n(27952);function w(){var e=o()(["\n  fragment PayWall_post on Post {\n    id\n  }\n"]);return w=function(){return e},e}var D=function(e){var t=e.optimizelyFeatureString,n=e.post,r=e.viewer,o=e.showTrialPaywall,i=e.authDomain,a=!!(0,u.P5)("enable_lite_pay_page"),l=!!(0,u.P5)("enable_new_checkout_flow");return s.createElement(P.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n.id}},s.createElement(S.M,null,s.createElement(E.xu,{display:"inline-block",textAlign:"center"},s.createElement(c.W,{featureString:t,target:o?"trial-upsell-button":"upsell-button-".concat(r&&r.hasPastMemberships?"resume-membership":"upgrade")},s.createElement(v.a,{isButton:!0,buttonStyle:o?"BRAND":"STRONG",width:o||r&&r.hasPastMemberships?"182px":"104px",redirectUrl:a&&(o||l)?(0,O.c5)(i):(0,O.KP)(i)},o?"Start your free trial":r&&r.hasPastMemberships?"Resume membership":"Upgrade")))))},T=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=(0,a.I0)();return s.createElement(P.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},s.createElement(E.xu,{display:"flex",sm:{flexDirection:"column"}},s.createElement(E.xu,{display:"flex",flexDirection:"row",justifyContent:"center"},n.facebook||n.google||n.twitter?s.createElement(g.r,{userSocialLogins:n}):s.createElement(m.o,{onSuccess:function(){return r((0,I.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:n.userId},(function(e){var t=e.handleSubmit;return s.createElement(E.zx,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})))),t&&s.createElement(E.xu,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},s.createElement(y.F,{scale:"M"},s.createElement(f.G,{declineSuggestedAccount:t,isSocial:!!n&&!!(n.facebook||n.google||n.twitter)}))))},k=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=e.suggestedAccountEventData,o=e.showSuggestedAccount,i=e.postId;return s.createElement(P.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:i}},s.createElement(S.M,{eventData:r},s.createElement(E.xu,{display:"inline-block",textAlign:"center"},s.createElement(T,{declineSuggestedAccount:t,showSuggestedAccount:o,userSocialLogins:n}),s.createElement(E.xu,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},s.createElement(y.F,{scale:"L"},s.createElement(v.a,{eventData:r,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},C=function(e){var t=e.post,n=(0,a.v9)((function(e){return{sessionUserId:e.session.user.id,authDomain:e.config.authDomain,productName:e.config.productName}}),a.wU),r=n.productName,o=n.sessionUserId,i=n.authDomain,m=(0,p.YC)().value,g=(0,x.Av)(),f=null==m?void 0:m.isMembershipTrialEligible,v=!(!(0,u.P5)("enable_trial_upsell")||!f);s.useEffect((function(){f&&g.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var P="paywall";return s.createElement(d.N8,null,s.createElement(l.F,null,s.createElement(h.o,{postRenderCallback:function(){}},(function(e){var n,a=e.loading,l=e.showSuggestedAccount,u=e.declineSuggestedAccount,p=e.userSocialLogins;return a?s.createElement(s.Fragment,null):(l&&(P="suggested-account-paywall"),l&&(n={alternateUserSuggestionShown:l,alternateUserSuggestionAccountType:(0,R.S)(p),alternateUserSuggestionTargetUserId:!!p&&p.userId,alternateUserSuggestionSourceUserId:m?m.id:o}),s.createElement(s.Fragment,null,s.createElement(c.W,{featureString:P,target:v?"trial-background-color":"background-color"},s.createElement(E.xu,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},s.createElement(E.xu,{display:"flex",flexDirection:"column",padding:"48px 50px",sm:{padding:"28px 16px 32px",textAlign:"center"}},s.createElement(c.W,{featureString:P,target:v?"webCCTrialHeading":"fewerClicksHeading"},s.createElement(b.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,t,n){var r=n.showSuggestedAccount,o=n.showTrialPaywall,i=t?(0,R.J)(t):null;return i=i&&i.length<=13?i:null,r?"Switch to your member account for unlimited reading.":o?s.createElement(E.xu,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},i?"".concat(i,", keep reading."):"Keep reading."):s.createElement(E.xu,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},"How to read this story — and everything else on ".concat(e,"."))}(r,m&&m.name,{showSuggestedAccount:l,showTrialPaywall:v}))),s.createElement(y.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},!l&&!v&&s.createElement(s.Fragment,null,s.createElement(c.W,{featureString:P,target:"second-header-fewer-clicks"},s.createElement(E.xu,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},"Not every story on ".concat(r," is free, like this one. Become a member to get unlimited access and support the voices you want to hear more from."))),s.createElement(E.xu,{display:"flex",justifyContent:"flex-start",sm:{justifyContent:"center"}},s.createElement(D,{optimizelyFeatureString:P,post:t,viewer:m,showTrialPaywall:v,authDomain:i}))),s.createElement(c.W,{featureString:P,target:v?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},s.createElement(E.xu,{marginTop:l?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,t,n,r){var o=n.showTrialPaywall;if(n.showSuggestedAccount&&t){var i=t.isMember,a=t.redactedEmailAddress;return s.createElement(s.Fragment,null,"Looks like you're coming from the ",i&&"member ","account"," ",s.createElement("b",null,a)," but you’re signed in as ",s.createElement("b",null,null==r?void 0:r.email),". Switch to your",i?" member account for unlimited access":" account",".")}return s.createElement(E.xu,{marginTop:"28px",marginBottom:"28px",textAlign:o?"center":"left"},o?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):s.createElement(s.Fragment,null,s.createElement("b",null,"Read any story. "),"Access everything on ",e," across all your devices with no limits or ads.",s.createElement("br",null),s.createElement("br",null),s.createElement("b",null,"Reward great writing. "),"A portion of your membership fee will go toward the writers you read most."))}(r,p,{showSuggestedAccount:l,showTrialPaywall:v},m)))),!!l&&p&&s.createElement(k,{declineSuggestedAccount:u,userSocialLogins:p,suggestedAccountEventData:n,showSuggestedAccount:l,postId:t.id}),v&&!l&&s.createElement(D,{optimizelyFeatureString:P,post:t,viewer:m,showTrialPaywall:v,authDomain:i}))))))}))))},A=(0,i.Ps)(w())},86987:(e,t,n)=>{"use strict";n.d(t,{Mt:()=>w,E7:()=>D,VP:()=>T});var r=n(28655),o=n.n(r),i=n(71439),s=n(67294),a=n(6401),l=n(31933),c=n(51562),u=n(85740),p=n(324),d=n(62181),m=n(5731),g=n(59317),f=n(81405),h=n(90174),v=n(4134),E=n(89894),b=n(80735),y=n(62630),x=n(27572),P=n(37581);function S(){var e=o()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return S=function(){return e},e}function R(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return R=function(){return e},e}var I="post_regwall",O=function(e){var t=e.enablePasswords,n=e.meterCount,r=e.optimizelyFeatureString,o=e.postId,i={operation:"register"},a=(0,g.j)().openModal,l=function(e){var n=e.children;return t?s.createElement(c.W,{featureString:r,target:"google-button"},n):n};return s.createElement(E.xu,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},s.createElement(c.W,{featureString:r,target:"google-button"},s.createElement(E.xu,{margin:"".concat(t?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},s.createElement(P.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},s.createElement(v.x,i)))),s.createElement(l,null,s.createElement(E.xu,{marginBottom:t?"32px":"52px",sm:{marginBottom:"40px"}},s.createElement(P.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},t?s.createElement(f.R,{goToEmailAuthStep:function(){a({step:"ENTER_EMAIL",susiEntry:I,operation:"register"})},operation:"register"}):s.createElement(h.q,i)))))},w=function(e){var t=e.meteringInfo,n=e.post,r=(0,y.Av)(),o=!!(0,u.P5)("enable_passwords"),i="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,g="".concat(i?"syndicated-":"","regwall");return s.useEffect((function(){r.event("meter.viewed",{meterCount:null==t?void 0:t.postIds.length,postId:n.id,uiType:i?m.j.SyndicatedRegwall:m.j.RegWall})}),[]),s.createElement(p.N8,null,s.createElement(x.cW,{source:{postId:n.id,susiEntry:I}},s.createElement(l.F,null,s.createElement(c.W,{featureString:g,target:"background-color"},s.createElement(E.xu,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"}},s.createElement(E.xu,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},s.createElement(c.W,{featureString:g,target:"heading"},s.createElement(b.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},s.createElement(E.xu,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),s.createElement(E.xu,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),s.createElement(b.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}},s.createElement(E.xu,{display:"block",margin:"auto",paddingTop:"10px",sm:{display:"none"},width:"500px"},"You’ll also discover more fresh thinking personalized to your interests and can follow your favorite authors, publications, and topics."),s.createElement(E.xu,{display:"none",sm:{display:"block"}},s.createElement(E.xu,{margin:"".concat(o?"40px":"42px"," 0")},s.createElement(a.a,{isButton:!0,postId:n.id,appEntry:"regwall"})),s.createElement(c.W,{featureString:g,target:"skip-app-copy"},s.createElement(E.xu,{marginBottom:"-20px"},"Or, continue in mobile web"))),s.createElement(O,{meterCount:null==t?void 0:t.postIds.length,optimizelyFeatureString:g,postId:n.id,enablePasswords:o}),s.createElement(c.W,{featureString:g,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),s.createElement(c.W,{featureString:g,target:"sign-in-link",tag:"span"},s.createElement(d.R9,{linkStyle:"OBVIOUS",operation:"login",post:n,susiEntry:I},"Sign in")))))))))},D=(0,i.Ps)(R(),d.qU),T=(0,i.Ps)(S())},12390:(e,t,n)=>{"use strict";n.d(t,{h:()=>d,P:()=>m});var r=n(28655),o=n.n(r),i=n(71439),s=n(67294),a=n(12291),l=n(42963),c=n(24087),u=n(27952);function p(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n      viewerCanEditOwnPosts\n      viewerCanEditPosts\n      viewerIsEditor\n    }\n    creator {\n      id\n    }\n  }\n"]);return p=function(){return e},e}var d=(0,i.Ps)(p()),m=(0,a.$j)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.children;return s.createElement(c.Z,null,(function(e){return function(e,t){var n=e.collection,r=e.creator&&t&&e.creator.id===t.id,o=r&&n&&n.viewerCanEditOwnPosts||n&&(n.viewerIsEditor||n.viewerCanEditPosts);return(!e||!e.isPublished)&&(n?o:r)}(n,e)?s.createElement(l.Z,{to:(0,u.d0)(t,n.id)}):r}))}))},47921:(e,t,n)=>{"use strict";n.d(t,{i:()=>B,Z:()=>j});var r=n(28655),o=n.n(r),i=n(59713),s=n.n(i),a=n(71439),l=n(67294),c=n(70405),u=n(12291),p=n(319),d=n.n(p),m=n(82492),g=n.n(m),f=n(68254),h=n.n(f),v=n(90038),E=n(96879),b=n(22744),y=n(27952);function x(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      hasDomain\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    tags {\n      displayTitle\n    }\n    sequence {\n      slug\n    }\n    lockedSource\n    layerCake\n    isShortform\n    shortformType\n    structuredData\n    ...getTitleForPost_post\n  }\n  ","\n"]);return x=function(){return e},e}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var o=Math.min(r,60),i=o/r,s=Math.floor(n*i);return I({width:s,height:o,url:(0,v.W6)({miroId:t,width:s,freezeGifs:!0,strategy:v._S.Resample})})}function I(e){return S({"@type":"ImageObject"},e)}function O(e,t){return"".concat(e,":").concat(t)}const w=(0,u.$j)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,o=t.collectionStructuredData,i=e.navigation;return{currentLocation:i.currentLocation,host:i.host,productName:n,defaultImages:r,collectionStructuredData:o}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,o=e.postDescription,i=e.productName,s=e.defaultImages,a=e.collectionStructuredData,u=r.collection,p=r.creator,m=r.id,f=r.mediumUrl,x=r.isLocked,P=r.previewImage,w=r.firstPublishedAt,D=r.updatedAt,T=r.tags,k=r.sequence,C=r.lockedSource,A=r.layerCake,_=r.structuredData,j=(0,b._t)(r,i),B={id:s.postLogo.imageId,originalWidth:s.postLogo.width,originalHeight:s.postLogo.height},L={id:s.orgLogo.imageId,originalWidth:s.orgLogo.width,originalHeight:s.orgLogo.height},N=u?{"@type":"Organization",name:u.name,url:u.domain||(0,E.l1)(n,(0,y.WG)(u,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return R(L);var t=R(e.logo);return t&&60===t.height&&t.width<=600?t:R(L)}(u)}:{"@type":"Organization",name:i,url:(0,E.l1)(n,"/"),logo:R(L)};u&&a&&a[u.id]&&g()(N,a[u.id].data);var U=[O("Lite","true")];T&&T.forEach((function(e){e.displayTitle&&U.push(O("Tag",e.displayTitle))})),u&&u.slug&&U.push(O("Publication",u.slug)),U.push(O("Elevated",(!!k).toString())),k&&k.slug&&U.push(O("Sequence",k.slug)),C&&U.push(O("LockedPostSource",C)),null!=A&&U.push(O("LayerCake",A.toString()));var M=o||"",F=x?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},H={"@context":"http://schema.org"},Q=S({"@type":"NewsArticle",image:P&&P.id?function(e){var t=e.id,n=e.originalWidth,r=e.originalHeight,o=e.focusPercentX,i=e.focusPercentY;if(!t)return null;var s=1200,a=(0,v.vz)({miroId:t,aspectRatio:16/9,croppedWidth:s,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),l=(0,v.vz)({miroId:t,aspectRatio:4/3,croppedWidth:s,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),c=(0,v.vz)({miroId:t,aspectRatio:1,croppedWidth:s,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),u=new Set([a,l,c]);return Array.from(u)}(P):I({url:(0,v.W6)({miroId:B.id,width:B.originalWidth}),height:B.originalHeight,width:B.originalWidth}),url:f,dateCreated:w&&new Date(w).toISOString(),datePublished:w&&new Date(w).toISOString(),dateModified:D&&new Date(D).toISOString(),headline:j,name:j,description:M,identifier:m,keywords:U.length?U:null,author:p&&p.name&&p.username?{"@type":"Person",name:p.name||p.username,url:(0,y.AW)(p.username,n,p.hasDomain)}:null,creator:p&&[p.name],publisher:N,mainEntityOfPage:f},F),V=S(S({},H),Q);if(_&&_.length>0)try{var W=JSON.parse(_);if(W&&null!=W&&W["@graph"]&&(null==W?void 0:W["@graph"].length)>0){var $=((null==W?void 0:W["@graph"])||[]).filter((function(e){return(null==e?void 0:e["@type"])&&"NewsArticle"!==(null==e?void 0:e["@type"])}));$&&$.length>0&&(V=S(S({},H),{},{"@graph":[Q].concat(d()($))}))}}catch(e){}return l.createElement(c.q,null,l.createElement("script",{type:"application/ld+json"},h()(V,{isJSON:!0})))}));var D=(0,a.Ps)(x(),b.bq),T=n(27390),k=n(71794);function C(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      username\n      twitterScreenName\n      hasDomain\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndex_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return C=function(){return e},e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const j=(0,u.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var t,n,r=e.isAmp,o=e.host,i=e.authDomain,s=e.productName,a=e.post,u=a.canonicalUrl,p=a.collection,d=a.creator,m=a.id,g=a.latestPublishedAt,f=a.mediumUrl,h=a.previewContent,E=a.socialTitle,x=a.socialDek,P=a.visibility,S=a.isShortform,R=p&&p.ampEnabled,I=d&&d.name,O=(0,b.yB)(a),D=a.title||"",C=O.latestTitle||D;if(S){var A=_(_({},a),{},{title:C});t=(0,b.oS)(A,s,O.hasTitleGraf).trim(),n=(0,k.OO)(a,O.hasTitleGraf)}else t=(0,b._t)(a,s,O,!0).trim(),n=(0,k.j7)(a);var j,B,L=x||h&&h.subtitle||n;if(a&&a.previewImage&&a.previewImage.id&&!a.isLimitedState){var N=a.previewImage;j=(0,v.vz)({miroId:N.id,aspectRatio:1.9,croppedWidth:N.originalWidth?Math.min(N.originalWidth,1200):1200,originalWidth:N.originalWidth,originalHeight:N.originalHeight,focusPercentX:N.focusPercentX,focusPercentY:N.focusPercentY})}else if(a.isLimitedState){var U={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};j=(0,v.vz)({miroId:U.id,aspectRatio:1.9,croppedWidth:U.originalWidth?Math.min(U.originalWidth,1200):1200,originalWidth:U.originalWidth,originalHeight:U.originalHeight,focusPercentX:U.focusPercentX,focusPercentY:U.focusPercentY})}d&&d.username&&(B=(0,y.AW)(d.username,i,d.hasDomain));var M=(0,y.CK)(m),F=!(0,b.ao)(a),H=g&&new Date(g).toISOString(),Q=(0,T.Vd)(a.readingTime||0),V=d&&d.twitterScreenName,W=p&&p.twitterUsername||"Medium",$=p&&p.facebookPageId,z=E||D||C;a.isLimitedState&&(z="");var q=a.isLimitedState?"":L,Y=l.useMemo((function(){return l.createElement(c.q,{htmlAttributes:r?{amp:void 0}:{}},l.createElement("meta",{property:"og:type",content:"article"}),H&&l.createElement("meta",{property:"article:published_time",content:H}),R&&!r?l.createElement("link",{rel:"amphtml",href:(0,y.Vc)(o,m)}):null,l.createElement("title",null,t),l.createElement("meta",{name:"title",content:t}),l.createElement("meta",{property:"og:title",content:z}),l.createElement("meta",{property:"twitter:title",content:z}),$&&l.createElement("meta",{property:"fb:pages",content:$}),l.createElement("meta",{name:"twitter:site",content:"@".concat(W)}),l.createElement("meta",{name:"twitter:app:url:iphone",content:M}),l.createElement("meta",{property:"al:android:url",content:M}),l.createElement("meta",{property:"al:ios:url",content:M}),l.createElement("meta",{property:"al:android:app_name",content:"Medium"}),n&&l.createElement("meta",{name:"description",content:n}),L&&l.createElement("meta",{property:"og:description",content:q}),L&&l.createElement("meta",{property:"twitter:description",content:q}),l.createElement("meta",{property:"og:url",content:f}),l.createElement("meta",{property:"al:web:url",content:f}),j&&l.createElement("meta",{property:"og:image",content:j}),j&&l.createElement("meta",{name:"twitter:image:src",content:j}),l.createElement("meta",{name:"twitter:card",content:j?"summary_large_image":"summary"}),B&&l.createElement("meta",{property:"article:author",content:B}),B&&l.createElement("link",{rel:"author",href:B}),V&&l.createElement("meta",{name:"twitter:creator",content:"@".concat(V)}),I&&l.createElement("meta",{name:"author",content:I}),l.createElement("link",{rel:"canonical",href:u||f}),l.createElement("link",{rel:"alternate",href:(0,y.zi)((0,y.o2)("medium.com",a.id))}),l.createElement("meta",{name:"robots",content:"".concat(F?"noindex":"index",",follow,max-image-preview:large")}),l.createElement("meta",{name:"referrer",content:"UNLISTED"!==P?"unsafe-url":"origin"}),r?null:l.createElement("meta",{name:"twitter:label1",value:"Reading time"}),r?null:l.createElement("meta",{name:"twitter:data1",value:"".concat(Q," min read")}),l.createElement("meta",{name:"parsely-post-id",content:m}))}),[r,t,u,f,j,R,m,E,n,B,I,V,M,F,H]);return l.createElement(l.Fragment,null,Y,l.createElement(w,{post:a,postDescription:n}))}));var B=(0,a.Ps)(C(),D,k.iI,k.m3,b.p3,b.Pz,b.dm,b.bq)},53099:(e,t,n)=>{"use strict";n.d(t,{yx:()=>k,KR:()=>C});var r=n(63038),o=n.n(r),i=n(28655),s=n.n(i),a=n(71439),l=n(80439),c=n(67294),u=n(12291),p=n(24087),d=n(51607),m=n(89894),g=n(80735),f=n(72955),h=n(14391),v=n(67122),E=n(76579),b=n(96879),y=n(27952);function x(){var e=s()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n    creatorPartnerProgramEnrollmentStatus\n  }\n"]);return x=function(){return e},e}function P(){var e=s()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function S(){var e=s()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    shareKey\n    ...ShareButton_post\n    creatorPartnerProgramEnrollmentStatus\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n  }\n  ","\n"]);return S=function(){return e},e}var R=function(){return c.createElement(m.xu,null,c.createElement(m.rU,{inline:!0,linkStyle:"OBVIOUS",href:(0,y.Sc)()},"Learn more")," ","about what happens to your post when you publish.")};var I=(0,a.Ps)(S(),d.M),O=(0,a.Ps)(P(),I),w=function(e){var t=e.url,n=e.label;return c.createElement(E.b,{url:t},(function(e){return c.createElement(m.xu,{marginBottom:"8px"},c.createElement(m.zx,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},c.createElement(m.xu,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},D=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return c.createElement(m.xu,{display:"flex",flexDirection:"column",alignItems:"center"},c.createElement(g.F,{color:"DARKER",scale:"L",tag:"p"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),c.createElement(m.xu,{marginTop:"20px"},!n&&c.createElement(c.Fragment,null,c.createElement(m.xu,{marginBottom:"8px"},c.createElement(d.T,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),c.createElement(m.xu,{marginBottom:"8px"},c.createElement(d.T,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),c.createElement(m.xu,{marginBottom:"8px"},c.createElement(d.T,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t}))),c.createElement(w,{url:r,label:"Copy story link"})))},T=function(e){var t=e.viewerId,n=e.isVisible,r=e.hide,o=e.post,i=o.id,s=o.visibility,a=o.curationEligibleAt,l=o.mediumUrl,p=o.shareKey,d=o.creatorPartnerProgramEnrollmentStatus,f=o.isNewsletter,E=o.isPublishToEmail,x=o.creator,P="UNLISTED"===s,S=!!a,I=d===h.iR.ENROLLED,O=(0,u.v9)((function(e){return e.config.productName})),T="Your story is published!";return E&&t===(null==x?void 0:x.id)?T="Your story has been published and sent!":f&&(T="Your newsletter is on its way!"),c.createElement(m.Vq,{isVisible:n,hide:r,withAnimation:!0,withCloseButton:!1},c.createElement(m.xu,{background:v.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,v.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},c.createElement(m.PZ,{onClick:r,size:"LARGE"}),c.createElement(m.xu,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},c.createElement(m.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},c.createElement(g.F1,{scale:"L",tag:"h3"},T),c.createElement(m.xu,{maxWidth:"520px",marginTop:"20px"},c.createElement(g.F,{color:"DARKER",scale:"L",tag:"p"},function(e,t,n,r,o){return r?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):c.createElement(c.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",c.createElement(m.rU,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,o):e?"Your unlisted story will not appear publicly on ".concat(o,", but you can still share it."):n?t?c.createElement(c.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",o,"’s metered paywall.",c.createElement(R,null)):c.createElement(c.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",o,"’s metered paywall.",c.createElement(R,null)):c.createElement(c.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",o," Partner Program."," ",c.createElement(m.rU,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(P,S,I,f,O))),c.createElement(m.xu,{paddingTop:"20px"},S&&!P&&l&&p&&c.createElement(w,{url:(0,b.Rk)((0,y.jV)(o),{sk:p}),label:"Copy Friend Link"})),c.createElement(m.xu,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),i&&l&&c.createElement(D,{post:o,isUnlisted:P,postPath:(0,y.jV)(o)}))))},k=function(e){var t=e.post,n=c.useState(!1),r=o()(n,2),i=r[0],s=r[1];return i?c.createElement(p.Z,null,(function(n){return n&&n.id&&(n.id===(t.creator&&t.creator.id)||t.collection&&t.collection.viewerIsEditor)?c.createElement(l.AE,{ssr:!1,query:O,variables:{postId:t.id}},(function(t){var r=t.loading,o=t.data,i=(o=void 0===o?{}:o).post;if(r||!i||i.inResponseToPostResult)return null;var s={isVisible:e.isVisible,hide:e.hide,post:i,viewerId:n.id};return c.createElement(T,s)})):null})):(f.V6.on("load",(function(){return s(!0)})),null)},C=(0,a.Ps)(x())},15789:(e,t,n)=>{"use strict";n.d(t,{U:()=>C,Z:()=>_});var r=n(67154),o=n.n(r),i=n(59713),s=n.n(i),a=n(28655),l=n.n(a),c=n(71439),u=n(80439),p=n(67294),d=n(25415),m=n(93227),g=n(69677),f=n(72846),h=n(91442),v=n(11642);function E(){var e=l()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return E=function(){return e},e}function b(){var e=l()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return b=function(){return e},e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n)return null;var r=t,o=n;return e.substr(r,o-r)}var S=(0,c.Ps)(b()),R=(0,c.Ps)(E()),I=n(24087),O=n(31235);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(){var e=l()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return T=function(){return e},e}function k(){var e=l()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that the postMeteringOptions is defined in handlers that use InteractivePostBody\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return k=function(){return e},e}var C=(0,c.Ps)(k(),m.iF,h.iB,R,f.Pk,f.v),A=(0,c.Ps)(T(),m.UW,h.g8,f.XV,f.w6,S);const _=p.forwardRef((function(e,t){var n=e.activeGrafId,r=e.activeNoteId,i=e.isAuroraPostPageEnabled,s=e.post,a=e.postBodyInserts,l=(0,O.xg)(),c=s.content,E=s.latestPublishedVersion;if(!c)throw new Error("Expected post to have content.");var b={bodyModel:c.bodyModel,creator:s.creator,isAuroraPostPageEnabled:i,postBodyInserts:a,ref:t,richTextStyle:"FULL_PAGE"},y=s&&s.creator&&s.creator.allowNotes||!1;return c.isLockedPreviewOnly||l?p.createElement(f.ZP,b):p.createElement(u.AE,{notifyOnNetworkStatusChange:!0,ssr:!1,query:A,variables:{postId:s.id,showNotes:y}},(function(e){var t=e.data,i=(t=void 0===t?{}:t).post,a=c.bodyModel&&c.bodyModel.paragraphs,l=function(e,t){return e&&t?e.map((function(e){var n=e.endOffset,r=e.startOffset,o=e.paragraphs&&e.paragraphs[0],i=function(e,t){return e?t.find((function(t){var n=t.name;return e===n})):null}(o.name,t);if(!o||!i)return null;var s=P(o.text,r,n),a=P(i.text,r,n);if(!s||!a)return null;if(s===a)return e;var l=i.text?i.text.indexOf(s):null;if("number"!=typeof l||l<0)return null;var c=l+s.length;return x(x({},e),{},{endOffset:c,startOffset:l})})).filter(v.b):e}(i&&i.highlights||[],a),u=i&&i.privateNotes||null;return p.createElement(g.yb,null,p.createElement(d.KN,{initialActivePrivateNoteId:r,initialActiveGrafName:n},p.createElement(m.Ms,{interactivePost:D(D({},s),{},{latestPublishedVersion:E}),highlights:l},p.createElement(I.Z,{nonBlocking:!0},(function(e){return p.createElement(h.U7,{highlights:l,paragraphs:a,viewer:e},p.createElement(f.ZP,o()({},b,{highlights:l,privateNotes:u})))})))))}))}))},51176:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var r=n(67294).createContext({isEditing:!1,setIsEditing:function(){return null},setEditingQuote:function(){return null}})},13787:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var r=n(28655),o=n.n(r),i=n(71439),s=n(98281);function a(){var e=o()(["\n  fragment ResponseHeader_post on Post {\n    createdAt\n    creator {\n      ...UserAvatar_user\n      isBlocking\n    }\n    mediumUrl\n  }\n  ","\n"]);return a=function(){return e},e}var l=(0,i.Ps)(a(),s.WQ)},51151:(e,t,n)=>{"use strict";n.d(t,{J:()=>v,u:()=>E});var r=n(28655),o=n.n(r),i=n(59713),s=n.n(i),a=n(71439),l=n(67294),c=n(19692),u=n(28309),p=n(14391),d=n(58357),m=n(83024);function g(){var e=o()(["\n  fragment ResponseQuote_post on Post {\n    inResponseToMediaResource {\n      href\n      mediumQuote {\n        quoteId\n        startOffset\n        endOffset\n        paragraphs {\n          ...TextParagraph_paragraph\n        }\n        ...buildQuotePreviewParagraph_quote\n      }\n    }\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.inResponseToMediaResource,n=(0,u.Iq)(),r=(0,u.Fg)(),o=(0,d.r)((function(){var e=null==t?void 0:t.href;if(e){var n=null==e?void 0:e.split("#")[1];if(n){var r=n.split("--")[0];if(r){var o=document.getElementById(r);if(o){var i=(null==o?void 0:o.offsetTop)-100;i&&window.scrollTo({top:i,behavior:"smooth"})}}}}}),[null==t?void 0:t.href]),i=null==t?void 0:t.mediumQuote;if(!i)return null;var s=(0,m.eu)(i);if(!s||!s.type)return null;var a=s.type;return a===p.NJ.IMG||a===p.NJ.IFRAME||a===p.NJ.COVER_TITLE||a===p.NJ.HR||a===p.NJ.MIXTAPE_EMBED||a===p.NJ.SECTION_CAPTION?null:l.createElement("div",{onClick:o,onKeyDown:o,role:"button",tabIndex:0,className:n({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",marginTop:"22px",marginBottom:"3px",padding:"20px 16px",cursor:"pointer",backgroundColor:r.backgroundColor})},l.createElement(c.ZP,{paragraph:h(h({},s),{},{name:"embedded-quote-".concat(i.quoteId,"-").concat(s.name)}),paragraphStyle:a,spaceTop:4,richTextStyle:"STREAM"}))},E=(0,a.Ps)(g(),m.Sz,c.Rg)},14267:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var r=n(67294).createContext({setIsSavingResponse:function(){return null},editingResponsesAtIndices:[],setEditingResponsesAtIndices:function(){return null},setInResponseToQuote:function(){return null},sidebarRef:null})},2074:(e,t,n)=>{"use strict";n.d(t,{Ag:()=>b,gl:()=>E});var r=n(28655),o=n.n(r),i=n(71439),s=n(8011),a=n(43522),l=n(15699),c=n(13787),u=n(51151);function p(){var e=o()(["\n  fragment StoryResponse_storyResponse on StreamItemPostStoryResponse {\n    post {\n      ...ResponseHeader_post\n      ...ResponseQuote_post\n      id\n      responsesCount\n      creator {\n        isBlocking\n        hasDomain\n      }\n      clapCount\n      responseDistribution\n      ...PostPresentationTracker_post\n      previewContent {\n        bodyModel {\n          paragraphs {\n            text\n            type\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return p=function(){return e},e}var d=(0,i.Ps)(p(),c.F,l.h,u.u),m=n(58992),g=n(31078);function f(){var e=o()(["\n  query PagedThreadedPostResponsesQuery($postId: ID!, $postResponsesPaging: PagingOptions) {\n    post(id: $postId) {\n      id\n      ...CloseDiscussion_post\n      responsesCount\n      postResponses {\n        count\n      }\n      threadedPostResponses(paging: $postResponsesPaging) {\n        __typename\n        pagingInfo {\n          next {\n            limit\n            to\n          }\n        }\n        posts {\n          ... on Post {\n            ...StoryResponse_threadedStoryResponse_post\n            ...SimpleResponse_threadedSimpleResponse_post\n            ...SimpleResponse_threadedSimpleResponse_defaultPostResponses\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function h(){var e=o()(["\n  query ThreadedPostResponsesQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...CloseDiscussion_post\n      prototypeNestedResponses {\n        __typename\n        ... on Post {\n          ...StoryResponse_threadedStoryResponse\n        }\n        ... on Post {\n          ...SimpleResponse_threadedSimpleResponse\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function v(){var e=o()(['\n  query PostResponsesQuery($postId: ID!, $postResponsesPaging: PagingOptions) {\n    post(id: $postId) {\n      id\n      ...CloseDiscussion_post\n      postResponses {\n        count\n        responsesConnection(paging: $postResponsesPaging) @connection(key: "responsesConnection") {\n          pagingInfo {\n            next {\n              limit\n              to\n            }\n          }\n          stream {\n            itemType {\n              __typename\n              ... on StreamItemPostStoryResponse {\n                ...StoryResponse_storyResponse\n              }\n              ... on StreamItemPostSimpleResponse {\n                ...SimpleResponse_simpleResponse\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ',"\n  ","\n  ","\n"]);return v=function(){return e},e}var E=(0,i.Ps)(v(),g.Z,d,s.y),b=((0,i.Ps)(h(),g.Z,m.c,a.p1),(0,i.Ps)(f(),g.Z,a.Df,m.t,a.K5))},8011:(e,t,n)=>{"use strict";n.d(t,{y:()=>u});var r=n(28655),o=n.n(r),i=n(71439),s=n(5399),a=n(51151),l=n(72955);function c(){var e=o()(["\n  fragment SimpleResponse_simpleResponse on StreamItemPostSimpleResponse {\n    post {\n      id\n      createdAt\n      firstPublishedAt\n      latestPublishedAt\n      title\n      creator {\n        id\n        name\n        username\n        imageId\n        mediumMemberAt\n        isBlocking\n        hasDomain\n      }\n      clapCount\n      viewerClapCount\n      isPublished\n      voterCount\n      responsesCount\n      allowResponses\n      latestRev\n      recommenders {\n        id\n        name\n      }\n      mediumUrl\n      content {\n        bodyModel {\n          paragraphs {\n            text\n          }\n          ...getSlateBodyFromPostBodyModel_bodyModel\n        }\n      }\n      collection {\n        id\n        slug\n      }\n      isLimitedState\n      responseDistribution\n      ...PostPresentationTracker_post\n      ...PostScrollTracker_post\n      ...ResponseQuote_post\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return c=function(){return e},e}var u=(0,i.Ps)(c(),l.h_,l.kH,a.u,s.I)},43522:(e,t,n)=>{"use strict";n.d(t,{Df:()=>m,K5:()=>g,p1:()=>f});var r=n(28655),o=n.n(r),i=n(71439),s=n(5399),a=n(51151),l=n(72955),c=n(58992);function u(){var e=o()(["\n  fragment SimpleResponse_threadedSimpleResponse on Post {\n    prototypeNestedResponses {\n      # 1\n      prototypeNestedResponses {\n        # 2\n        prototypeNestedResponses {\n          # 3\n          prototypeNestedResponses {\n            # 4\n            ...SimpleResponse_threadedSimpleResponse_post\n          }\n          ...SimpleResponse_threadedSimpleResponse_post\n        }\n        ...SimpleResponse_threadedSimpleResponse_post\n      }\n      ...SimpleResponse_threadedSimpleResponse_post\n    }\n    ...SimpleResponse_threadedSimpleResponse_post\n  }\n  ","\n"]);return u=function(){return e},e}function p(){var e=o()(["\n  fragment SimpleResponse_threadedSimpleResponse_defaultPostResponses on Post {\n    responsesCount\n    postResponses {\n      count\n    }\n    threadedPostResponses(paging: {limit: 10}) {\n      __typename\n      pagingInfo {\n        next {\n          limit\n          to\n        }\n      }\n      posts {\n        ... on Post {\n          ...StoryResponse_threadedStoryResponse_post\n          ...SimpleResponse_threadedSimpleResponse_post\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function d(){var e=o()(["\n  fragment SimpleResponse_threadedSimpleResponse_post on Post {\n    id\n    createdAt\n    firstPublishedAt\n    latestPublishedAt\n    title\n    creator {\n      id\n      name\n      username\n      imageId\n      mediumMemberAt\n      isBlocking\n      hasDomain\n    }\n    clapCount\n    viewerClapCount\n    isPublished\n    voterCount\n    responsesCount\n    postResponses {\n      count\n    }\n    allowResponses\n    latestRev\n    recommenders {\n      id\n      name\n    }\n    mediumUrl\n    content {\n      bodyModel {\n        paragraphs {\n          text\n        }\n        ...getSlateBodyFromPostBodyModel_bodyModel\n      }\n    }\n    collection {\n      id\n      slug\n    }\n    isLimitedState\n    inResponseToType\n    responseDistribution\n    ...PostPresentationTracker_post\n    ...PostScrollTracker_post\n    ...ResponseQuote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return d=function(){return e},e}var m=(0,i.Ps)(d(),l.h_,l.kH,a.u,s.I),g=(0,i.Ps)(p(),c.t,m),f=(0,i.Ps)(u(),m)},58992:(e,t,n)=>{"use strict";n.d(t,{t:()=>p,c:()=>d});var r=n(28655),o=n.n(r),i=n(71439),s=n(15699),a=n(13787),l=n(51151);function c(){var e=o()(["\n  fragment StoryResponse_threadedStoryResponse on Post {\n    prototypeNestedResponses {\n      # 1\n      prototypeNestedResponses {\n        # 2\n        prototypeNestedResponses {\n          # 3\n          prototypeNestedResponses {\n            # 4\n            ...StoryResponse_threadedStoryResponse_post\n          }\n          ...StoryResponse_threadedStoryResponse_post\n        }\n        ...StoryResponse_threadedStoryResponse_post\n      }\n      ...StoryResponse_threadedStoryResponse_post\n    }\n    ...StoryResponse_threadedStoryResponse_post\n  }\n  ","\n"]);return c=function(){return e},e}function u(){var e=o()(["\n  fragment StoryResponse_threadedStoryResponse_post on Post {\n    id\n    responsesCount\n    postResponses {\n      count\n    }\n    creator {\n      isBlocking\n      hasDomain\n    }\n    clapCount\n\n    previewContent {\n      bodyModel {\n        paragraphs {\n          text\n          type\n        }\n      }\n    }\n    responseDistribution\n    ...PostPresentationTracker_post\n    ...ResponseHeader_post\n    ...ResponseQuote_post\n  }\n  ","\n  ","\n  ","\n"]);return u=function(){return e},e}var p=(0,i.Ps)(u(),a.F,s.h,l.u),d=(0,i.Ps)(c(),p)},54260:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r=n(67294).createContext({inResponseToPostId:"",isThreadedResponsesVisible:!1,toggleThreadedResponses:function(){},showThreadedResponses:function(){},threadDepth:0,hideCreateReply:function(){},toggleCreateReply:function(){},loadThreadedResponses:function(){},isThreadedResponsesQueryCalled:!1,isThreadedResponsesQueryLoading:!1})},47076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H,E:()=>T});var r=n(87757),o=n.n(r),i=n(48926),s=n.n(i),a=n(63038),l=n.n(a),c=n(67294),u=n(12291),p=n(59116),d=n(78067),m=n(14267),g=n(54260),f=n(30049),h=n(319),v=n.n(h),E=n(59713),b=n.n(E),y=n(28655),x=n.n(y),P=n(71439),S=n(80439),R=n(43522),I=n(58992);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(){var e=x()(["\n  mutation publishPostThreadedResponse(\n    $inResponseToPostId: ID!\n    $deltas: [Delta!]!\n    $inResponseToQuoteId: ID\n    $responseDistribution: ResponseDistributionType\n  ) {\n    publishPostThreadedResponse(\n      inResponseToPostId: $inResponseToPostId\n      deltas: $deltas\n      inResponseToQuoteId: $inResponseToQuoteId\n      responseDistribution: $responseDistribution\n    ) {\n      id\n      ... on Post {\n        ...StoryResponse_threadedStoryResponse_post\n        ...SimpleResponse_threadedSimpleResponse_post\n        ...SimpleResponse_threadedSimpleResponse_defaultPostResponses\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return D=function(){return e},e}var T,k=(0,P.Ps)(D(),R.Df,I.t,R.K5),C=function(e){var t=e.children,n=e.parentPostId;return c.createElement(S.mm,{mutation:k,update:function(e,t){var r=function(e,t){if(!t||!e.data)return null;var n=e.data.publishPostThreadedResponse;return w(w({},t),{},{postResponses:{count:t.postResponses.count+1},threadedPostResponses:w(w({},t.threadedPostResponses),{},{posts:[n].concat(v()(t.threadedPostResponses.posts))})})}(t,e.readFragment({id:"Post:".concat(n),fragment:R.K5,fragmentName:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}));null!==r&&e.writeFragment({id:"Post:".concat(n),fragment:R.K5,fragmentName:"SimpleResponse_threadedSimpleResponse_defaultPostResponses",data:w({},r)})}},(function(e,n){return t({publishResponse:e,loading:n.loading,error:n.error})}))},A=n(53945),_=n(19537),j=n(18608),B=n(85740),L=n(80735),N=n(62630),U=n(27572),M=n(28309),F=n(85277);!function(e){e.NOT_DISTRIBUTED="NOT_DISTRIBUTED",e.DISTRIBUTED="DISTRIBUTED"}(T||(T={}));var H=function(e){var t=e.parentPostId,n=e.placeholder,r=e.hideReplyEditing,i=void 0===r?function(){}:r,a=e.editorOpenByDefault,h=void 0===a||a,v=e.showEditorHeader,E=void 0===v||v,b=Boolean((0,B.P5)("enable_lite_publish_to_profile")),y=c.useContext(m.D),x=y.setIsSavingResponse,P=y.responsesLocked,S=y.inResponseToQuote,R=y.setInResponseToQuote,I=c.useContext(g.H),O=I.showThreadedResponses,w=I.isThreadedResponsesQueryLoading,D=c.useState(T.NOT_DISTRIBUTED),k=l()(D,2),H=k[0],Q=k[1],V=function(){H===T.DISTRIBUTED?Q(T.NOT_DISTRIBUTED):Q(T.DISTRIBUTED)},W=(0,U.pK)(),$=(0,N.Av)(),z=(0,u.I0)(),q=(0,M.Iq)(),Y=c.useRef(null);c.useEffect((function(){var e;null!=Y&&null!==(e=Y.current)&&void 0!==e&&e.getBoundingClientRect&&Y.current.getBoundingClientRect().bottom>window.innerHeight&&Y.current.scrollIntoView({behavior:"smooth",block:"end"})}),[]);var G=function(e){return function(){var n=s()(o().mark((function n(r,i){var s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e({variables:{inResponseToPostId:t,deltas:r,inResponseToQuoteId:null==S?void 0:S.id}});case 2:s=n.sent,i(s.data.savePostResponse.id);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()};return c.createElement(C,{parentPostId:t},(function(e){var r=e.publishResponse,a=e.loading,l=e.error;return(0,p._M)(l)||P?(x(!1),c.createElement(f.R,{message:j.x})):c.createElement(A.P,null,(function(e){var l,u=e.saveResponse;return c.createElement("div",{ref:Y},c.createElement(L.F,{scale:"M",color:"DARKER"},c.createElement("div",{className:q({lineHeight:"24px"})},c.createElement(j.j,{postId:t,isPublishingResponse:a,publishResponse:(l=r,function(e,n){return x(!0),l({variables:{inResponseToPostId:t,deltas:e,inResponseToQuoteId:null==S?void 0:S.id,responseDistribution:H}}).then((function(e){var r=e.data&&e.data.publishPostThreadedResponse,o=(0,p.ed)(e.errors);if(r)return $.event("inlineEditor.publish",{postId:t,context:d.r.INLINE_POST_RESPONSE,source:W}),x(!1),O(),H===T.DISTRIBUTED&&(z((0,F.Dx)({message:"",toastStyle:"PUBLISH_RESPONSE",extraParams:{response:r},duration:5e3})),Q(T.NOT_DISTRIBUTED)),n();o&&(x(!1),z((0,F.Dx)({message:"You’ve reached the limit for stories that can be published in one day. Please try again tomorrow.",toastStyle:"ERROR"})))}))}),saveResponse:G(u),type:_.H.create,inResponseToQuote:S,onClose:s()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(void 0),i(),e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)}))),editorOpenByDefault:h,placeholder:n,showEditorHeader:E,disableReplyButton:w,showPublishCheckbox:b&&!h,responseDistribution:H,toggleResponseDistribution:V}))))}))}))}},30049:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(67294),o=n(89894),i=n(80735),s=n(27952),a=function(e){var t=e.message||"The author has closed discussion for this story.";return r.createElement(o.xu,{backgroundColor:"BASE_NORMAL",display:"flex",flexDirection:"row",alignItems:"center",padding:"16px"},r.createElement(i.F,{scale:"M",tag:"span",color:"DARKER"},t," ",r.createElement(o.rU,{href:(0,s.VG)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more.")))}},53945:(e,t,n)=>{"use strict";n.d(t,{P:()=>u});var r=n(28655),o=n.n(r),i=n(71439),s=n(80439),a=n(67294);function l(){var e=o()(["\n  mutation savePostResponse(\n    $inResponseToPostId: ID!\n    $deltas: [Delta!]!\n    $inResponseToQuoteId: ID\n  ) {\n    savePostResponse(\n      inResponseToPostId: $inResponseToPostId\n      deltas: $deltas\n      inResponseToQuoteId: $inResponseToQuoteId\n    ) {\n      ... on Post {\n        id\n      }\n    }\n  }\n"]);return l=function(){return e},e}var c=(0,i.Ps)(l()),u=function(e){var t=e.children;return a.createElement(s.mm,{mutation:c},(function(e){return t({saveResponse:e})}))}},19537:(e,t,n)=>{"use strict";var r;n.d(t,{H:()=>r}),function(e){e.edit="EDIT",e.create="CREATE"}(r||(r={}))},18608:(e,t,n)=>{"use strict";n.d(t,{x:()=>J,j:()=>ie});var r=n(63038),o=n.n(r),i=n(87757),s=n.n(i),a=n(48926),l=n.n(a),c=n(59713),u=n.n(c),p=n(67294),d=n(12291),m=n(84792),g=n(10143),f=n(26600),h=n(25772),v=n(78067),E=n(22470),b=n(54803),y=n(9735),x=n(24548),P=n(42963),S=n(47076),R=n(32262),I=n(89894),O=n(28309),w=n(74465),D=n(93394),T=function(e){return{cursor:"pointer",border:0,fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark}}},k=function(e){var t=e.isEdit,n=e.saveResponse,r=e.setDraftResponseId,o=(0,O.Iq)();return p.createElement(I.Bn,null,(function(e){var i=e.isVisible,s=e.toggle,a=e.hide;return p.createElement(I.J2,{isVisible:i,hide:a,customZIndex:w.ZP.responseSidebarPopover,noArrow:!0,placement:"bottom-end",popoverRenderFn:function(){return p.createElement(R.mX,null,p.createElement(R.Sl,null,p.createElement(I.rU,{onClick:t&&r?r:n,"data-testid":"saveResponseMenuItem"},"Make this response a story")))}},p.createElement(I.rU,{onClick:s,className:o(T),"data-testid":"editorMenu"},p.createElement(D.Z,null)))}))},C=n(19692),A=n(14391),_=n(83024),j=function(e){var t=e.quote,n=(0,O.Iq)();if(!t)return null;var r=(0,_.eu)(t);return r?p.createElement("div",{className:n({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",padding:"20px 16px",margin:"10px 14px 0 14px","& mark":{cursor:"text"}})},p.createElement(C.ZP,{paragraph:r,paragraphStyle:A.NJ.P,spaceTop:4,richTextStyle:"STREAM"})):null},B=function(e){var t=e.onFocus,n=e.responseContent,r=e.setResponseContent,o=e.setIsEmpty,i=e.isEditorOpen,s=(0,O.Iq)();return p.createElement("textarea",{placeholder:"What are your thoughts?",value:n,onChange:function(e){var t=e.target.value;o(!t),r(t)},onFocus:t,className:s({width:"100%",padding:"14px",resize:"none",minHeight:i?"100px":"0",height:i?"auto":"47px",fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",outline:"0",border:"0"})})},L=n(19537),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeInitialDeltas:!0},n=t.includeInitialDeltas,r=[],o=e.split("\n");return n&&(r=[{type:8,index:0,section:{name:U(),startIndex:0}}]),o.forEach((function(e,t){r.push({type:1,paragraph:{markups:[],name:U(),text:e,type:1},verifySameName:!1,index:t})})),r},U=function(){return Math.round(65535*Math.random()).toString(16).padStart(4,"0")},M=n(85740),F=n(9785),H=n(62181),Q=n(98281),V=n(42933),W=n(36544),$=function(e){var t=e.isVisible,n=e.hide,r=(0,F.YC)().value;return p.createElement(W.C,null,(function(e){var o=e.mutate;return p.createElement(I.QH,{confirmText:"Resend verification email",hide:n,isVisible:t,isDestructiveAction:!1,onConfirm:function(){o()},showCancelButton:!1,titleText:"Commenting requires a verified email address"},"Click below to send a new verification email to ",null==r?void 0:r.unverifiedEmail,".")}))},z=n(80735),q=n(62630),Y=n(27572),G=n(27952),K=n(29035);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J="The author has closed discussion for this story. We are unable to save changes to your response.",ee=function(){return{"& button":{border:"none"}}},te="400ms",ne="300ms",re=function(e,t){var n=X(X({},t),{},{display:"flex",padding:"0 14px"});return X(X({},n),{},e?{transition:"opacity ".concat(te,", max-height ").concat(te),opacity:1,maxHeight:"100px"}:{transition:"opacity ".concat(te,", max-height ").concat(te),opacity:0,maxHeight:0})},oe=function(e){return e?{transition:"min-height ".concat(te),minHeight:"100px"}:{transition:"min-height ".concat(te),minHeight:"15px"}},ie=function(e){var t,n=e.postId,r=e.responseId,i=e.createdAt,a=e.isPublishingResponse,c=e.disableReplyButton,u=void 0!==c&&c,R=e.publishResponse,w=e.saveResponse,D=void 0===w?function(){return Promise.resolve()}:w,T=e.type,C=void 0===T?L.H.create:T,A=e.onClose,_=void 0===A?l()(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))):A,U=e.inResponseToQuote,W=e.initialValue,Z=e.placeholder,J=void 0===Z?"What are your thoughts?":Z,ie=e.editorOpenByDefault,se=void 0!==ie&&ie,ae=e.showEditorHeader,le=void 0===ae||ae,ce=e.showPublishCheckbox,ue=void 0!==ce&&ce,pe=e.responseDistribution,de=void 0===pe?S.E.NOT_DISTRIBUTED:pe,me=e.toggleResponseDistribution,ge=void 0===me?function(){}:me,fe=C===L.H.edit,he=(0,O.Iq)(),ve=(0,q.Av)(),Ee=(0,Y.pK)(),be=(0,K.rO)(navigator.userAgent),ye=Boolean((0,M.P5)("enable_lite_threaded_responses"))&&C===L.H.edit,xe=(0,f.c)().value,Pe=(0,y.Vz)([y.Fm]),Se=Pe.editor,Re=Pe.renderLeaf,Ie=Pe.renderElement,Oe=p.useState(fe||se),we=o()(Oe,2),De=we[0],Te=we[1],ke=p.useState(!0),Ce=o()(ke,2),Ae=Ce[0],_e=Ce[1],je=p.useState((t=W)?t.paragraphs.map((function(e){return e.text})).join("\n"):""),Be=o()(je,2),Le=Be[0],Ne=Be[1],Ue=p.useState(void 0),Me=o()(Ue,2),Fe=Me[0],He=Me[1],Qe=p.useState(!1),Ve=o()(Qe,2),We=Ve[0],$e=Ve[1],ze=p.useCallback((function(){return $e(!1)}),[]),qe=(0,d.v9)((function(e){return e.config.authDomain})),Ye=(0,F.YC)().value,Ge=p.useCallback((function(){_().then((function(e){e.preventStateUpdate||(Te(!1),be?Ne(""):(0,b.oe)(Se))}))}),[Te]);if(p.useEffect((function(){U&&Te(!0)}),[U]),p.useEffect((function(){_e(m.Node.string(Se).toString().trim().length<=0)}),[xe]),p.useEffect((function(){De&&!be&&(se||ye||g.F3.blur(Se),setTimeout((function(){return g.F3.focus(Se)}),0))}),[De]),Fe)return ve.event("inlineEditor.expand",{postId:n,context:v.r.INLINE_POST_RESPONSE,source:Ee}),p.createElement(P.Z,{to:(0,G.d0)(qe,Fe)});var Ke,Ze,Xe=p.createElement(p.Fragment,null,!ue&&p.createElement("div",{className:he(ee)},p.createElement(I.zx,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return Ge()}},"Cancel")),p.createElement(I.zx,{buttonStyle:"STRONG",size:"SMALL",disabled:Ae||a||m.Node.string(Se)===Le||u,onClick:function(){var e=be?N(Le,fe?{includeInitialDeltas:!1}:void 0):(0,b.wB)(Se,fe?{includeInitialDeltas:!1}:void 0);null!=Ye&&Ye.unverifiedEmail?$e(!0):R(e,Ge)}},fe?"Update":"Respond"));return p.createElement(V.Z,{marginBottom:se?"0":"20px",padding:fe?"0":"0 24px",paddingTop:se?"0":"20px"},p.createElement("div",{className:he({backgroundColor:"white",boxShadow:"0px 2px 8px rgba(0,0,0,0.12)",borderRadius:"4px",display:"flex",flexDirection:"column",paddingTop:De?"14px":"0",paddingBottom:De?"14px":"0",transition:"padding-top ".concat(te,", padding-bottom ").concat(te)})},Ye&&le&&p.createElement("div",{className:he((Ke=De,Ze={display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",padding:"0 14px"},X(X({},Ze),{},Ke?{transition:"opacity ".concat(te,", max-height ").concat(te,", margin-bottom ").concat(te),opacity:1,maxHeight:"100px",marginBottom:"6px"}:{transition:"opacity ".concat(ne,", max-height ").concat(ne,", margin-bottom ").concat(ne),opacity:0,maxHeight:0,marginBottom:"0"})))},p.createElement(V.Z,{display:"flex",alignItems:"center"},p.createElement(Q.ZP,{scale:"XS",user:Ye}),p.createElement(V.Z,{marginLeft:"12px",display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},p.createElement(z.F,{scale:"M",color:"DARKER"},Ye.name),fe&&i&&p.createElement(z.F,{scale:"M",color:"LIGHTER"},p.createElement(x.Z,{timestamp:i})))),De&&!ue&&p.createElement(V.Z,{display:"flex",justifyContent:"flex-end"},p.createElement(k,{isEdit:fe,setDraftResponseId:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return He(r)})),saveResponse:function(){var e=be?N(Le):(0,b.wB)(Se);return D(e,He)}}))),De&&p.createElement(j,{quote:U}),p.createElement(V.Z,{display:"flex",flexDirection:"column"},Ye?p.createElement("div",{className:he(oe(De))},be?p.createElement(B,{onFocus:function(){return Te(!0)},responseContent:Le,setIsEmpty:_e,setResponseContent:Ne,isEditorOpen:De}):p.createElement(V.Z,{padding:"14px"},p.createElement(E.c,{editor:Se},p.createElement(h.O,{onFocus:function(){return Te(!0)},renderLeaf:Re,renderElement:Ie,placeholder:J})))):p.createElement(H.R9,{operation:"register",susiEntry:"respond_sidebar"},p.createElement(V.Z,{padding:"14px"},p.createElement(z.F,{scale:"M",color:"LIGHTER"},"What are your thoughts?"))),ue?p.createElement("div",{className:he(re(De,{justifyContent:"space-between"}))},p.createElement(I.XZ,{onChange:ge,checked:de===S.E.DISTRIBUTED,textColor:"LIGHTER",textScale:"S",checkboxStyle:"SUBTLE"},"Also publish to my profile"),Xe):p.createElement("div",{className:he(re(De,{alignSelf:"flex-end"}))},Xe))),p.createElement($,{isVisible:We,hide:ze}))}},31078:(e,t,n)=>{"use strict";n.d(t,{Eq:()=>w,Z:()=>T});var r=n(59713),o=n.n(r),i=n(63038),s=n.n(i),a=n(28655),l=n.n(a),c=n(71439),u=n(46829),p=n(67294),d=n(32262),m=n(89894),g=n(80735),f=n(62630),h=n(27572),v=n(28309);function E(){var e=l()(["\n  query FetchPostResponsesLockedQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...CloseDiscussion_post\n    }\n  }\n  ","\n"]);return E=function(){return e},e}function b(){var e=l()(["\n  fragment CloseDiscussion_post on Post {\n    id\n    responsesLocked\n    isLockedResponse\n  }\n"]);return b=function(){return e},e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){var e=l()(["\n  mutation UnlockResponsesOnPostMutation($postId: ID!) {\n    unlockResponsesOnPost(postId: $postId)\n  }\n"]);return P=function(){return e},e}function S(){var e=l()(["\n  mutation LockResponsesOnPostMutation($postId: ID!) {\n    lockResponsesOnPost(postId: $postId)\n  }\n"]);return S=function(){return e},e}var R=function(){return{fontStyle:"italic",textAlign:"center"}},I=(0,c.Ps)(S()),O=(0,c.Ps)(P()),w=function(e){var t,n=e.parentPostId,r=e.responsesLocked,o=e.hidePopoverMenu,i=(0,v.Iq)(),a=(0,f.Av)(),l=(0,h.pK)(),c=p.useState(!1),E=s()(c,2),b=E[0],y=E[1],x=(0,u.useMutation)(I,{variables:{postId:n},update:function(e){a.event("responses.locked",{postId:n,source:l}),D(e,n,!0,o)}}),P=s()(x,1)[0],S=(0,u.useMutation)(O,{variables:{postId:n},update:function(e){D(e,n,!1,o)}}),w=s()(S,1)[0];return t=!0===r?p.createElement(m.rU,{onClick:w},"Open discussion"):p.createElement(m.rU,{onClick:function(){return y(!0)}},"Close discussion"),p.createElement(p.Fragment,null,p.createElement(d.Sl,null,t),b&&p.createElement(m.Vq,{isVisible:b,hide:function(){return y(!1)},withCloseButton:!1,noPortal:!0,padding:50},p.createElement(m.xu,{display:"flex",margin:"auto",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},p.createElement(g.X6,{scale:"M"},"Close Discussion"),p.createElement(m.xu,{display:"flex",width:"100%",paddingRight:"5px",marginTop:"10px",marginBottom:"70px",textAlign:"center"},p.createElement(g.F,{scale:"M",color:"DARKER"},"Closing a discussion prevents responses from being added or edited on your story. Existing responses will remain on your story.")),p.createElement(m.xu,{display:"flex",marginBottom:"20px"},p.createElement(m.rU,{onClick:function(){return y(!1)}},p.createElement(g.F,{scale:"M",color:"DARKER"},"Cancel")),p.createElement(m.xu,{marginLeft:"25px"},p.createElement(m.zx,{buttonStyle:"ERROR",onClick:P,"data-test-id":"close-discussion-button"},"Close discussion"))),p.createElement("div",{className:i(R)},p.createElement(g.F,{scale:"M"},"You can reopen the discussion at any time.")))))},D=function(e,t,n,r){var o=e.readQuery({query:k,variables:{postId:t}});o&&(e.writeQuery({query:k,data:Object.assign({},o,{post:x(x({},o.post),{},{responsesLocked:n})}),variables:{postId:t}}),r())},T=(0,c.Ps)(b()),k=(0,c.Ps)(E(),T)},49514:(e,t,n)=>{"use strict";n.d(t,{k:()=>tn});var r=n(63038),o=n.n(r),i=n(67294),s=n(12291),a=n(86156),l=n(319),c=n.n(l),u=n(59713),p=n.n(u),d=n(46829),m=n(2074),g=n(51176),f=n(14267),h=n(2277),v=n(29355),E=n(24548),b=n(28309),y=function(e){var t=e.title,n=e.backgroundColor,r=(0,b.Iq)();return i.createElement("div",{className:r((function(){return{color:"white",backgroundColor:n,borderRadius:"2px",fontSize:"11px",padding:"0px 6px",height:"16px",display:"flex",alignItems:"center",marginLeft:"8px",marginTop:"2px"}}))},t)},x=n(85740),P=n(9785),S=n(98281),R=n(89894),I=n(80735),O=n(27572),w=n(93394),D=n(27952),T=n(28655),k=n.n(T),C=n(71439),A=n(43522),_=n(54260);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e,t){var n,r=null==e||null===(n=e.post)||void 0===n?void 0:n.postResponses;if(!e||null==r||!r.responsesConnection||null===(null==r?void 0:r.count))return null;var o=r.responsesConnection.stream,i=o.filter((function(e){var n;return(null===(n=e.itemType.post)||void 0===n?void 0:n.id)!==t}));return i.length===o.length?null:Object.assign({},e,{post:B(B({},e.post),{},{postResponses:B(B({},r),{},{count:r.count-1,responsesConnection:B(B({},r.responsesConnection),{},{stream:i})})})})},N=n(32262),U=n(62630),M=n(85277),F=n(47076),H=function(e){var t=e.isDialogOpen,n=e.dialogHeading,r=e.dialogDescription,o=e.cancelDialogAction,s=e.confirmDialogAction,a=e.confirmDialogButtonText,l=e.confirmButtonStyle,c=void 0===l?"STRONG":l,u=e.hide,p=void 0===u?function(){}:u,d=i.useContext(f.D).sidebarRef,m=function(e){var t;null!=d&&null!==(t=d.current)&&void 0!==t&&t.style&&(d.current.style.overflowY=e?"hidden":"")};return i.useEffect((function(){return m(t),function(){m(!1)}}),[t]),i.createElement(R.Vq,{isVisible:t,hide:p,withCloseButton:!1,noPortal:!0,padding:50},i.createElement(R.xu,{display:"flex",margin:"auto",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},i.createElement(I.X6,{scale:"M"},n),i.createElement(R.xu,{display:"flex",width:"100%",paddingRight:"5px",marginTop:"10px",marginBottom:"40px",textAlign:"center"},i.createElement(I.F,{scale:"M",color:"DARKER"},r)),i.createElement(R.xu,{display:"flex",marginBottom:"20px"},i.createElement(R.rU,{onClick:o},i.createElement(I.F,{scale:"M",color:"DARKER"},"Cancel")),i.createElement(R.xu,{marginLeft:"25px"},i.createElement(R.zx,{buttonStyle:c,onClick:s,"data-test-id":"close-discussion-button"},a)))))},Q=function(e){var t=e.isDialogOpen,n=e.cancelDialogAction,r=e.confirmDialogAction,o=e.responseDistribution,s=e.hide,a=o===F.E.DISTRIBUTED,l=a?"Delete response and story":"Delete",c=a?"This response is also a story. Deleting will also delete the separate story. Are you sure you want to delete both the response and the story?":i.createElement("div",null,"Deleted responses are gone forever.",i.createElement("br",null),"Are you sure?");return i.createElement(H,{isDialogOpen:t,dialogHeading:l,dialogDescription:c,cancelDialogAction:n,confirmDialogAction:r,confirmDialogButtonText:"Delete Response",confirmButtonStyle:"ERROR",hide:s})};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(){var e=k()(["\n  mutation DeleteResponseMutation($responseId: ID!) {\n    deletePost(targetPostId: $responseId)\n  }\n"]);return $=function(){return e},e}var z,q=(0,C.Ps)($()),Y=function(e){var t,n,r=e.response,a=e.parentPostId,l=e.hidePopoverMenu,c=i.useState(!1),u=o()(c,2),p=u[0],g=u[1],h=(0,U.Av)(),v=(0,O.pK)(),E=(0,s.I0)(),b=(0,P.YC)().value,y=Boolean((0,x.P5)("enable_lite_threaded_responses")),S=i.useContext(_.H).inResponseToPostId,I=(0,d.useMutation)(q,{variables:{responseId:r.id},update:function(e){var t,n,o={postId:a,postResponsesPaging:{limit:10}};if(y){if(null===(n=function(e,t){var n,r,o=e;return o?B(B({},o),{},{postResponses:{count:((null===(n=o.postResponses)||void 0===n?void 0:n.count)||1)-1},threadedPostResponses:B(B({},o.threadedPostResponses),{},{posts:((null===(r=o.threadedPostResponses)||void 0===r?void 0:r.posts)||[]).filter((function(e){return e.id!==t}))})}):null}(e.readFragment({id:"Post:".concat(S),fragment:A.K5,fragmentName:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}),r.id)))return;e.writeFragment({id:"Post:".concat(S),fragment:A.K5,fragmentName:"SimpleResponse_threadedSimpleResponse_defaultPostResponses",data:W({},n)})}else{if(t=e.readQuery({query:m.gl,variables:o}),null===(n=L(t,r.id)))return;e.writeQuery({query:m.gl,data:n,variables:o})}h.event("responses.removed",{postId:r.id,source:v}),E((0,M.Dx)({message:"Successfully deleted response."})),l()}}),w=o()(I,1)[0],D=i.useContext(f.D).sidebarRef;return null!=b&&b.id&&(null==b?void 0:b.id)===(null===(t=r.creator)||void 0===t?void 0:t.id)?(null!=D&&D.current&&(n=D.current.scrollTop),i.createElement(i.Fragment,null,i.createElement(N.Sl,null,i.createElement(R.rU,{onClick:function(){return g(!0)}},"Delete")),p&&i.createElement(Q,{isDialogOpen:p,cancelDialogAction:function(){g(!1),null!=D&&D.current&&(D.current.scrollTop=n)},confirmDialogAction:w,responseDistribution:r.responseDistribution,hide:function(){return g(!1)}}))):null};!function(e){e.SIMPLE="SIMPLE",e.STORY="STORY"}(z||(z={}));var G=n(6688),K=n(18970);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(){var e=k()(["\n  mutation UserBlockMutation($targetUserId: ID!, $userId: ID!) {\n    blockUser(userId: $userId, targetUserId: $targetUserId) {\n      id\n      isBlocking\n    }\n  }\n"]);return J=function(){return e},e}var ee=(0,C.Ps)(J()),te=function(e){var t,n,r=e.response,a=e.parentPost,l=e.hidePopoverMenu,c=(0,P.YC)().value,u=(0,U.Av)(),p=(0,O.pK)(),g=(0,s.I0)(),f=i.useState(!1),h=o()(f,2),v=h[0],E=h[1],b=function(){return E(!1)},y=null==r||null===(t=r.creator)||void 0===t?void 0:t.id,x=(0,d.useMutation)(ee,{variables:{targetUserId:y,userId:null==c?void 0:c.id},update:function(e){var t={postId:a.id,postResponsesPaging:{limit:10}},n=e.readQuery({query:m.gl,variables:t}),r=ne(n,y);null!==r&&e.writeQuery({query:m.gl,data:r,variables:t})},optimisticResponse:{__typename:"Mutation",blockUser:{__typename:"User",id:y,isBlocking:!0}},onCompleted:function(){b(),g((0,M.Dx)({message:"Responses by this user have been hidden from this story."}))}}),S=o()(x,1)[0],I=null===(n=a.creator)||void 0===n?void 0:n.id,w=(null==c?void 0:c.id)===I;return(null==c?void 0:c.id)===y?null:c&&y&&w?i.createElement(i.Fragment,null,i.createElement(N.Sl,null,i.createElement(R.rU,{onClick:function(){E(!0)}},"Block this author")),v&&i.createElement(K.Z,{onConfirm:function(){u.event("user.blocked",{userId:y,source:p}),S()},isVisible:v,isInResponsesSidebar:!0,hide:function(){b(),l()}})):null},ne=function(e,t){var n,r=null==e||null===(n=e.post)||void 0===n?void 0:n.postResponses;if(!e||!t||null==r||!r.responsesConnection||null===(null==r?void 0:r.count))return null;var o=r.responsesConnection.stream,i=o.filter((function(e){var n,r;return(null===(n=e.itemType.post)||void 0===n||null===(r=n.creator)||void 0===r?void 0:r.id)!==t}));if(i.length===o.length)return null;var s=o.length-i.length;return X(X({},e),{},{post:X(X({},e.post),{},{postResponses:X(X({},r),{},{count:r.count-s,responsesConnection:X(X({},r.responsesConnection),{},{stream:i})})})})},re=function(e){var t=e.isDialogOpen,n=e.cancelDialogAction,r=e.confirmDialogAction;return i.createElement(H,{isDialogOpen:t,dialogHeading:"Edit response and story",dialogDescription:"This response is also a story. Editing will also edit the separate story.",cancelDialogAction:n,confirmDialogAction:r,confirmDialogButtonText:"Continue",confirmButtonStyle:"STRONG"})},oe=function(e){var t,n,r=e.response,s=(0,P.YC)().value,a=i.useState(!1),l=o()(a,2),c=l[0],u=l[1],p=i.useContext(g.Q),d=p.setIsEditing,m=p.isEditing,h=p.setEditingQuote,v=(null===(t=r.creator)||void 0===t?void 0:t.id)===(null==s?void 0:s.id),E=i.useContext(f.D).sidebarRef;if(null!=E&&E.current&&(n=E.current.scrollTop),!v)return null;var b=r.responseDistribution===F.E.DISTRIBUTED;return i.createElement(i.Fragment,null,i.createElement(N.Sl,null,i.createElement(R.rU,{onClick:function(){b?u(!0):(r.inResponseToMediaResource&&h(r.inResponseToMediaResource.mediumQuote),d(!m))}},"Edit this response")),c&&i.createElement(re,{isDialogOpen:c,cancelDialogAction:function(){u(!1),null!=E&&E.current&&(E.current.scrollTop=n)},confirmDialogAction:function(){u(!1),null!=E&&E.current&&(E.current.scrollTop=n),r.inResponseToMediaResource&&h(r.inResponseToMediaResource.mediumQuote),d(!m)}}))};function ie(){var e=k()(["\n  mutation HidePostResponseOnParentMutation($parentPostId: ID!, $postResponseId: ID!) {\n    hidePostResponseOnParentPost(parentPostId: $parentPostId, postResponseId: $postResponseId)\n  }\n"]);return ie=function(){return e},e}var se=(0,C.Ps)(ie()),ae=function(e){var t,n,r,a=e.responseToBeHidden,l=e.parentPost,c=e.hidePopoverMenu,u=(0,P.YC)().value,p=(0,s.I0)(),g=(0,U.Av)(),f=(0,O.pK)(),h=(null==u?void 0:u.id)===(null===(t=l.creator)||void 0===t?void 0:t.id),v=null==l||null===(n=l.collection)||void 0===n?void 0:n.viewerIsEditor,E=(null==u?void 0:u.id)===(null===(r=a.creator)||void 0===r?void 0:r.id),b=(0,d.useMutation)(se,{variables:{postResponseId:a.id,parentPostId:l.id},update:function(e){var t={postId:l.id,postResponsesPaging:{limit:10}},n=e.readQuery({query:m.gl,variables:t}),r=L(n,a.id);null!==r&&(e.writeQuery({query:m.gl,data:r,variables:t}),g.event("response.hidden",{postId:a.id,source:f}),p((0,M.Dx)({message:"",toastStyle:"HIDE_POST_RESPONSE",extraParams:{responseId:a.id,parentPostId:l.id}})),c())}}),y=o()(b,1)[0];return E?null:h||v?i.createElement(N.Sl,null,i.createElement(R.rU,{onClick:y},"Hide this response")):null};function le(){var e=k()(["\n  mutation UserReportStoryMutation(\n    $targetPostId: ID!\n    $targetAuthorId: ID!\n    $alsoBlockAuthor: Boolean!\n    $reason: String!\n  ) {\n    reportStoryAndMaybeBlockAuthor(\n      targetPostId: $targetPostId\n      targetAuthorId: $targetAuthorId\n      alsoBlockAuthor: $alsoBlockAuthor\n      reason: $reason\n    ) {\n      id\n      isBlocking\n    }\n  }\n"]);return le=function(){return e},e}var ce=(0,C.Ps)(le()),ue=n(62181),pe=n(90639),de=function(e){var t,n=e.response,r=e.parentPost,a=e.hidePopoverMenu,l=(0,P.YC)().value,c=(0,U.Av)(),u=(0,O.pK)(),p=i.useState(!1),m=o()(p,2),g=m[0],f=m[1],h=function(e){var t,n,r=e.response,a=r.id,l=null===(t=r.creator)||void 0===t?void 0:t.id,c=null===(n=r.creator)||void 0===n?void 0:n.isBlocking,u=(0,s.I0)(),p=(0,d.useMutation)(ce,{variables:{targetPostId:a,targetAuthorId:l,alsoBlockAuthor:!1,reason:"Spam"},onCompleted:function(){u((0,M.Dx)({message:"Successfully reported post."}))}}),m=o()(p,2),g=m[0],f=m[1];return{reportStory:i.useCallback((function(e){var t=e.alsoBlockAuthor,n=void 0!==t&&t,r=e.reportReason;return g({variables:{targetPostId:a,targetAuthorId:l,alsoBlockAuthor:n,reason:void 0===r?"Spam":r},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:l,isBlocking:c||n}}})}),[r,g]),error:null==f?void 0:f.error,loading:null==f?void 0:f.loading}}({response:n}).reportStory,v=(null==l?void 0:l.id)===(null===(t=n.creator)||void 0===t?void 0:t.id);return!n.creator||v?null:i.createElement(i.Fragment,null,i.createElement(N.Sl,null,null!=l&&l.id?i.createElement(R.rU,{onClick:function(){return f(!0)}},"Report this response"):i.createElement(ue.R9,{operation:"register",post:r,susiEntry:"respond_sidebar"},"Report this response")),i.createElement(pe.Z,{onSubmit:function(e,t){return c.event("response.flagged",{postId:n.id,reason:t,source:u}),h({alsoBlockAuthor:e,reportReason:t})},isVisible:g,hide:function(){f(!1),a()},isResponse:!0}))},me=n(965),ge=n(65347),fe=n(55573),he=function(e){var t=e.response,n=e.hidePopoverMenu,r=(0,me.CP)(),o=(0,U.Av)(),a=(0,P.YC)().value,l=(0,O.pK)(),c=(0,s.v9)((function(e){return e.multiVote.clapsPerPost})),u=(0,s.I0)(),p=i.useCallback((function(e){return u((0,ge.at)(e))}),[u]),d=(0,fe.l)(c,t),m=d.clapCount,g=d.viewerClapCount;return null!=a&&a.id&&0!==m&&0!==g?i.createElement(N.Sl,null,i.createElement(R.rU,{onClick:function(){r(t,(null==a?void 0:a.id)||"",-g),p({postId:t.id,clapCount:m-g,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),o.event("post.clientUnvote",{postId:t.id,postIds:[t.id],unvoteCount:g,source:l}),n()}},"Undo applause for this response")):null},ve={position:"absolute !important",top:"-16px",right:"0",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"4px",zIndex:"1000",backgroundColor:"rgba(255, 255, 255, 1)",minWidth:"150px"},Ee=function(e){var t=e.response,n=e.responseType,r=e.parentPost,o=e.isPopoverMenuVisible,s=e.hidePopoverMenu,a=(0,G.I)(),l=t.creator,c=i.useRef(null);return i.useEffect((function(){var e=function(e){var t;null!=c&&null!==(t=c.current)&&void 0!==t&&t.contains(e.target)||s()};if(o)return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[o]),t&&l?i.createElement("div",{className:a(ve),ref:c},i.createElement(N.mX,null,i.createElement(de,{response:t,parentPost:r,hidePopoverMenu:s}),i.createElement(ae,{responseToBeHidden:t,parentPost:r,hidePopoverMenu:s}),i.createElement(te,{response:t,parentPost:r,hidePopoverMenu:s}),n===z.SIMPLE&&i.createElement(he,{response:t,hidePopoverMenu:s}),n===z.SIMPLE&&i.createElement(oe,{response:t}),i.createElement(Y,{response:t,hidePopoverMenu:s,parentPostId:r.id}))):null},be=function(e){return{cursor:"pointer",border:0,fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark},":focus":{outline:"none"}}},ye=function(e){var t,n=e.response,r=e.responseType,a=e.parentPost,l=(0,P.YC)().value,c=(0,b.Iq)(),u=(0,b.Fg)(),p=n.creator,d=n.mediumUrl,m=n.createdAt,g=i.useState(!1),f=o()(g,2),h=f[0],v=f[1],T=Boolean((0,x.P5)("enable_lite_threaded_responses")),k=(0,s.v9)((function(e){return e.config.authDomain}));if(!n||!p||!d)return null;var C=(null===(t=a.creator)||void 0===t?void 0:t.id)===p.id,A=(null==l?void 0:l.id)===p.id,_=function(e,t){return e&&t===z.SIMPLE}(n,r)&&(null==n?void 0:n.firstPublishedAt)!==(null==n?void 0:n.latestPublishedAt);return i.createElement(i.Fragment,null,i.createElement(R.xu,{display:"flex",flexDirection:"row",justifyContent:"space-between"},i.createElement(R.xu,{display:"flex",flexDirection:"row",alignItems:"center"},i.createElement(S.ZP,{scale:"XS",user:p}),i.createElement(R.xu,{paddingLeft:"12px"},i.createElement(R.xu,{display:"flex",flexDirection:"row"},i.createElement(R.rU,{href:(0,D.AW)(p.username||"",k,p.hasDomain)},i.createElement(I.F,{scale:"M",color:"DARKER"},p.name)),C?i.createElement(y,{title:"AUTHOR",backgroundColor:u.brandColor.sage.dark}):A&&T?i.createElement(y,{title:"YOU",backgroundColor:"#A8A8A8"}):null),i.createElement(R.rU,{href:d,linkStyle:"SUBTLE",inline:!0,noFollow:!0},i.createElement(I.F,{scale:"M"},i.createElement(E.Z,{timestamp:m}),_&&i.createElement(i.Fragment,null," (edited)"))))),i.createElement(R.rU,{onClick:function(e){e.nativeEvent.stopPropagation(),v(!h)},inline:!0,className:c(be)},i.createElement(w.Z,null))),h&&i.createElement("div",{className:c({position:"relative"})},i.createElement(O.cW,{source:{susiEntry:"respond_sidebar"},extendSource:!0},i.createElement(Ee,{response:n,responseType:r,parentPost:a,isPopoverMenuVisible:h,hidePopoverMenu:function(){return v(!1)}}))))},xe=n(51151),Pe=n(79956),Se=n(79914),Re=n(14391),Ie=n(50993);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return"char"===e&&t>250||"line"===e&&n>5}function Te(e){var t=e.paragraphs,n=e.truncateStrategy,r=e.isExpanded,o=(0,b.Iq)(),s=0,a=0,l="none"!==n&&!r;return i.createElement("pre",{className:o({whiteSpace:"pre-wrap"})},t.map((function(e){if(!r&&De(n,s,a))return null;var t=(null==e?void 0:e.text)||"";s+=t.length||0,a+=t.split("\n").length||0;var c=we(we({},e),{},{dropCapImage:null,hasDropCap:null}),u=!r&&De(n,s,a);if(u&&"char"===n){var p=250-(s-t.length||0);c.markups=c.markups.reduce((function(e,t){if(t.start<p){var n=we({},t);n.end>p&&(n.end=p),e.push(n)}return e}),[]),c.text=(0,Ie.N8)(t,p)}return i.createElement(R.xu,{padding:"5px 0px",key:e.name||e.id},i.createElement(I.F,{scale:"M",color:"DARKER"},i.createElement("div",{className:o({lineHeight:"24px"})},i.createElement(Se.T2,{paragraph:c,richTextStyle:"FULL_PAGE",paragraphStyle:Re.NJ.P}),l&&u&&"...")))})).filter((function(e){return!!e})))}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ce=i.createElement("path",{d:"M21.27 20.06a9.04 9.04 0 0 0 2.75-6.68C24.02 8.21 19.67 4 14.1 4S4 8.21 4 13.38c0 5.18 4.53 9.39 10.1 9.39 1 0 2-.14 2.95-.41.28.25.6.49.92.7a7.46 7.46 0 0 0 4.19 1.3c.27 0 .5-.13.6-.35a.63.63 0 0 0-.05-.65 8.08 8.08 0 0 1-1.29-2.58 5.42 5.42 0 0 1-.15-.75zm-3.85 1.32l-.08-.28-.4.12a9.72 9.72 0 0 1-2.84.43c-4.96 0-9-3.71-9-8.27 0-4.55 4.04-8.26 9-8.26 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32a5.59 5.59 0 0 0 .21 1.29c.19.7.49 1.4.89 2.08a6.43 6.43 0 0 1-2.67-1.06c-.34-.22-.88-.48-1.16-.74z"});const Ae=function(e){return i.createElement("svg",ke({width:29,height:29},e),Ce)};var _e=function(e){var t=e.response,n=t.postResponses,r=(null==n?void 0:n.count)||0,o=i.useContext(_.H),s=o.isThreadedResponsesVisible,a=o.toggleThreadedResponses,l=o.threadDepth,c=o.toggleCreateReply,u=o.loadThreadedResponses,p=o.isThreadedResponsesQueryCalled,d=(0,b.Iq)(),m=function(e){return{fill:e.baseColor.fill.normal,height:"25px",width:"25px"}},g=l<2,f=function(e,t){return i.createElement(R.xu,{display:"flex",alignItems:"center"},i.createElement(Ae,{className:d(m),"aria-label":"responses"}),i.createElement(R.xu,{tag:"span",display:"inline-block",marginLeft:"8px",marginTop:"2px"},i.createElement(I.F,{color:e,tag:"span",scale:"S"},t)))};return i.createElement(R.xu,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:"14px"},i.createElement(R.xu,{display:"flex",alignItems:"center"},i.createElement(v.S,{buttonStyle:"SUBTLE_THREADED_RESPONSE",post:t,shouldShowResponsiveLabelText:!0,susiEntry:"respond_sidebar"}),i.createElement(R.xu,{marginLeft:"12px",display:"flex",alignItems:"center",height:"25px"},g?r>0&&i.createElement(R.rU,{linkStyle:"SUBTLE",onClick:a},f("DARKER",function(e,t){return t?"Hide replies":"".concat(e," ").concat(1===e?"reply":"replies")}(r,s))):t.mediumUrl?i.createElement(R.rU,{linkStyle:"SUBTLE",href:t.mediumUrl},f("ACCENT","Continue this thread")):null)),g&&i.createElement(R.xu,{paddingRight:"6px"},i.createElement(I.F,{color:"DARKER",scale:"M"},i.createElement(R.rU,{onClick:function(){p||u(),c()},inline:!0},"Reply"))))},je=n(72955),Be=n(15699),Le=n(29035),Ne=function(){return{border:"none",padding:"0 0 5px",cursor:"pointer"}},Ue=function(e){var t=e.isLimitedState,n=e.mediumUrl,r=e.simpleResponse;return i.createElement(R.xu,{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"14px"},i.createElement(v.S,{buttonStyle:"SUBTLE",post:r,shouldShowResponsiveLabelText:!0,susiEntry:"respond_sidebar"}),i.createElement(R.xu,{width:"12px"}),i.createElement(R.rU,{href:n+"?responsesOpen=true"},i.createElement(Pe.h,{location:"response",postId:r.id,responsesCount:r.responsesCount,showResponsesSidebar:function(){},allowResponses:r.allowResponses,isLimitedState:t})))},Me=function(e){var t,n=e.simpleResponse,r=e.parentPost,s=e.omitBottomBorder,a=n.creator,l=n.content,c=n.mediumUrl,u=n.isLimitedState,p=i.useState(!1),d=o()(p,2),m=d[0],g=d[1],f=i.useRef(null),v=(0,b.Iq)(),E=Boolean((0,x.P5)("enable_lite_threaded_responses"));(0,je.Vj)(f,n);var y=null==l||null===(t=l.bodyModel)||void 0===t?void 0:t.paragraphs;if(!(a&&l&&y&&c))return null;var P,S=(P=y.map((function(e){return e.text||""}))).join("").length>320?"char":P.join("\n").split("\n").length>5?"line":"none",O="none"!==S,w=O&&!m,D=(0,Le.ic)(navigator&&navigator.userAgent);return i.createElement(Be.Z,{post:n,presentationContext:"POST_PREVIEW",isDisplayingFullPost:!O},i.createElement(R.xu,{paddingTop:"25px",paddingBottom:D&&s?"48px":"16px",borderBottom:s?void 0:"BASE_LIGHTER",ref:f},i.createElement(ye,{response:n,responseType:z.SIMPLE,parentPost:r}),i.createElement(xe.J,{inResponseToMediaResource:n.inResponseToMediaResource}),i.createElement(R.xu,{marginTop:"5px"},i.createElement(h.c.Provider,{value:!0},i.createElement(Te,{paragraphs:y,truncateStrategy:S,isExpanded:m}))),w&&i.createElement("button",{onClick:function(){return g(!0)},className:v(Ne)},i.createElement(I.F,{scale:"S",color:"ACCENT",tag:"span"},"Read More")),E?i.createElement(_e,{response:n}):i.createElement(Ue,{isLimitedState:u,mediumUrl:c,simpleResponse:n})))},Fe=n(68356),He=n.n(Fe),Qe=n(19537),Ve=n(79853),We=n(90320);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe={delay:1e3,timeout:2e4,loading:function(e){return e.error?i.createElement(Ve.Z,{error:e.error}):e.timedOut?i.createElement(Ve.Z,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?i.createElement(We.Z,null):null}},Ye=He()(ze(ze({},qe),{},{loader:function(){return n.e(6635).then(n.bind(n,97980))},modules:["src/components/responses/editor/InlineResponseEditor"],webpack:function(){return[97980]},render:function(e,t){var n=e.InlineResponseEditor;return i.createElement(n,t)}})),Ge=function(e){var t=e.parentPostId,n=e.responseId,r=e.type,o=void 0===r?Qe.H.create:r,s=e.initialValue;return i.createElement(Ye,{parentPostId:t,responseId:n,type:o,initialValue:s})};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe={delay:1e3,timeout:2e4,loading:function(e){return e.error?i.createElement(Ve.Z,{error:e.error}):e.timedOut?i.createElement(Ve.Z,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?i.createElement(We.Z,null):null}},Je=He()(Ze(Ze({},Xe),{},{loader:function(){return n.e(6635).then(n.bind(n,51245))},modules:["src/components/responses/editor/ThreadedInlineResponseEditor"],webpack:function(){return[51245]},render:function(e,t){var n=e.ThreadedInlineResponseEditor;return i.createElement(n,t)}})),et=function(e){var t=e.parentPostId,n=e.responseId,r=e.type,o=void 0===r?Qe.H.create:r,s=e.initialValue;return i.createElement(Je,{parentPostId:t,responseId:n,type:o,initialValue:s})},tt=function(e){var t,n,r=e.responsePost,s=e.index,a=e.parentPost,l=e.omitBottomBorder,u=Boolean((0,x.P5)("enable_lite_threaded_responses")),p=i.useState(!1),d=o()(p,2),m=d[0],h=d[1],v=i.useState(null),E=o()(v,2),b=E[0],y=E[1],P=i.useContext(f.D),S=P.editingResponsesAtIndices,R=P.setEditingResponsesAtIndices;return i.useEffect((function(){if(m&&!S.includes(s)&&R([].concat(c()(S),[s])),!m&&S.includes(s)){var e=S.filter((function(e){return e!==s}));R(e)}}),[m,S,R]),r?m?i.createElement(g.Q.Provider,{value:{isEditing:m,setIsEditing:h,latestRev:null==r?void 0:r.latestRev,createdAt:null==r?void 0:r.createdAt,setEditingQuote:y,editingQuote:b}},i.createElement(O.cW,{source:{index:s},key:r.id,extendSource:!0},u?i.createElement(et,{type:Qe.H.edit,parentPostId:a.id,responseId:r.id,initialValue:null==r||null===(t=r.content)||void 0===t?void 0:t.bodyModel}):i.createElement(Ge,{type:Qe.H.edit,parentPostId:a.id,responseId:r.id,initialValue:null==r||null===(n=r.content)||void 0===n?void 0:n.bodyModel}))):i.createElement(g.Q.Provider,{value:{isEditing:m,setIsEditing:h,setEditingQuote:y,editingQuote:b}},i.createElement(O.cW,{source:{index:s},key:r.id,extendSource:!0},i.createElement(Me,{parentPost:a,simpleResponse:r,omitBottomBorder:l}))):null},nt={"0%":{opacity:"0.8"},"50%":{opacity:"0.5"},"100%":{opacity:"0.8"}},rt=function(){var e=(0,b.om)({shimmerKeyframesName:nt}).shimmerKeyframesName,t=(0,b.Iq)();return i.createElement("div",{className:t((function(){return{animation:"".concat(e," 1.2s ease-in-out infinite"),padding:"32px 0"}}))},i.createElement(R.xu,{display:"flex",flexDirection:"row"},i.createElement(R.xu,{height:"32px",width:"32px",borderRadius:"100%",backgroundColor:"BASE_NORMAL"}),i.createElement(R.xu,{marginLeft:"8px",marginTop:"4px"},i.createElement(R.xu,{height:"8px",width:"120px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),i.createElement(R.xu,{height:"8px",width:"80px",backgroundColor:"BASE_NORMAL"}))),i.createElement(R.xu,{marginTop:"12px"},i.createElement(R.xu,{height:"10px",width:"100%",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),i.createElement(R.xu,{height:"10px",width:"100%",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),i.createElement(R.xu,{height:"10px",width:"90%",backgroundColor:"BASE_NORMAL"})))},ot=n(81162),it=n(14349),st=n(27390);function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lt,ct=function(e){return{fill:e.baseColor.fill.lighter,float:"right"}},ut=function(e){var t,n,r=e.storyResponse,o=e.parentPost,s=e.omitBottomBorder,a=(0,b.Iq)(),l=(0,b.Fg)(),c=r.creator,u=r.previewContent,p=r.mediumUrl,d=r.clapCount,m=r.responsesCount,g=null==u||null===(t=u.bodyModel)||void 0===t?void 0:t.paragraphs;if(!(c&&u&&u.bodyModel&&p&&g))return null;var f=function(e){var t,n=[],r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.text&&(n.push(o),n.length>=2))break}}catch(e){r.e(e)}finally{r.f()}return{title:n[0],subtitle:n[1]}}(g);if(!f.title&&!f.subtitle)return null;var h,v=null!==(null===(n=r.inResponseToMediaResource)||void 0===n?void 0:n.mediumQuote),E=m||0;return i.createElement(Be.Z,{post:r,presentationContext:"POST_PREVIEW",isDisplayingFullPost:!1},i.createElement(R.xu,{paddingTop:"25px",paddingBottom:"20px",borderBottom:s?void 0:"BASE_LIGHTER"},i.createElement(ye,{response:r,responseType:z.STORY,parentPost:o}),i.createElement(xe.J,{inResponseToMediaResource:r.inResponseToMediaResource}),i.createElement(R.P3,{href:(0,D.jV)(r)},i.createElement("div",{className:a({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",padding:"12px",marginTop:v?"12px":"16px",backgroundColor:l.backgroundColor})},i.createElement("div",{className:a(ct)},i.createElement(I.F,{scale:"S",color:"LIGHTER"},i.createElement(R.xu,{display:"flex",flexGrow:"0",alignItems:"center",marginLeft:d>0||E>0?"20px":"0"},d>0?i.createElement(R.xu,{display:"flex",alignItems:"center"},i.createElement(R.xu,{tag:ot.Z,marginRight:"2px"}),i.createElement("div",null,(0,st.pY)(d))):null,E>0?i.createElement(R.xu,{display:"flex",alignItems:"center"},i.createElement(R.xu,{tag:it.Z,marginLeft:d?"8px":"0",marginRight:"2px"}),i.createElement("div",null,(0,st.pY)(E))):null))),i.createElement(I.F,{scale:"M",clamp:2,color:"DARKER"},f.title&&i.createElement(R.xu,null,f.title.text),f.subtitle&&i.createElement("div",{className:a((h=f.title.type,function(e){return{color:h===Re.NJ.H3?e.baseColor.text.lighter:e.baseColor.text.normal}}))},f.subtitle.text))))))},pt=n(31078),dt={position:"absolute !important",right:"0",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"4px",zIndex:"1000",backgroundColor:"rgba(255, 255, 255, 1)",minWidth:"200px"},mt=function(e){var t=e.parentPostId,n=e.responsesLocked,r=e.isPopoverMenuVisible,o=e.hidePopoverMenu,a=(0,G.I)(),l=(0,s.v9)((function(e){return e.config.authDomain})),c=i.useRef(null);return i.useEffect((function(){var e=function(e){var t;null!=c&&null!==(t=c.current)&&void 0!==t&&t.contains(e.target)||o()};if(r)return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[r]),i.createElement("div",{className:a(dt),ref:c},i.createElement(N.mX,null,i.createElement(N.Sl,null,i.createElement(R.rU,{href:(0,D.t$)(l,t)},"Manage responses")),i.createElement(pt.Eq,{parentPostId:t,responsesLocked:n,hidePopoverMenu:o})))},gt=function(e){return{cursor:"pointer",border:0,fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark},":focus":{outline:"none"}}},ft=function(e){var t,n,r=e.parentPost,s=e.responsesLocked,a=(0,G.I)(),l=(0,P.YC)().value,c=i.useState(!1),u=o()(c,2),p=u[0],d=u[1],m=(null==l?void 0:l.id)===(null===(t=r.creator)||void 0===t?void 0:t.id),g=null==r||null===(n=r.collection)||void 0===n?void 0:n.viewerIsEditor;return m||g?i.createElement(R.xu,null,i.createElement(R.rU,{onClick:function(e){e.nativeEvent.stopPropagation(),d(!p)},inline:!0,className:a(gt)},i.createElement(w.Z,null)),p&&i.createElement("div",{className:a({position:"relative"})},i.createElement(O.cW,{source:{susiEntry:"respond_sidebar"},extendSource:!0},i.createElement(mt,{parentPostId:r.id,responsesLocked:s,isPopoverMenuVisible:p,hidePopoverMenu:function(){return d(!1)}})))):null},ht=n(24087),vt=n(3149),Et=n(31235);!function(e){e.StoryResponse="StreamItemPostStoryResponse",e.SimpleResponse="StreamItemPostSimpleResponse"}(lt||(lt={}));var bt={height:"80vh",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontWeight:200},yt=function(e,t,n){return{backgroundColor:e&&e.id&&e.id===(t&&t.id)?n.highlightColor.light:void 0,padding:"0 24px"}},xt=function(e){var t,n,r,s=e.responses,a=e.parentPost,l=e.responsesLocked,c=e.isLockedResponse,u=e.isLoadingInitialContent,p=e.isFetchingNextSetOfResponses,d=e.isResponsesSidebarVisible,m=e.setIsResponsesSidebarVisible,g=e.inResponseToQuote,h=e.setInResponseToQuote,v=(0,b.Iq)(),E=(0,b.Fg)(),y=(0,Et.xg)(),x=i.useState(!1),P=o()(x,2),S=P[0],w=P[1],D=i.useState([]),T=o()(D,2),k=T[0],C=T[1],A=a.id,_=null!=s&&s.count&&0!==(null==s?void 0:s.count)?"(".concat(null==s?void 0:s.count,")"):"",j=null==s||null===(t=s.responsesConnection)||void 0===t?void 0:t.stream,B=null==s||null===(n=s.responsesConnection)||void 0===n||null===(r=n.pagingInfo)||void 0===r?void 0:r.next,L=j&&s&&s.count&&(null==j?void 0:j.length)<(null==s?void 0:s.count)-1,N=p&&B&&L;return i.createElement(f.D.Provider,{value:{setIsSavingResponse:w,responsesLocked:l,isLockedResponse:c,editingResponsesAtIndices:k,setEditingResponsesAtIndices:C,inResponseToQuote:g,setInResponseToQuote:h,sidebarRef:null}},d&&S&&i.createElement(R.TF,{horizontalOverride:{left:"calc(100vw - ".concat(Dt,")")}}),i.createElement(R.xu,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"24px",paddingBottom:"18px"},i.createElement(I.X6,{scale:"S"},"Responses ",_),i.createElement(R.xu,{display:"flex",flexDirection:"row"},i.createElement(ft,{parentPost:a,responsesLocked:l}),i.createElement(R.xu,{position:"relative",right:"-7px"},i.createElement(vt.Z,{onClick:function(){return m(!1)},size:"REGULAR",isPositionAbsolute:!1})))),u?i.createElement(R.xu,{padding:"0 24px"},i.createElement(rt,null)):i.createElement(i.Fragment,null,!y||d?i.createElement(Ge,{parentPostId:A}):null,s&&0!==(null==j?void 0:j.length)?i.createElement(ht.Z,null,(function(e){return i.createElement(R.xu,null,null==j?void 0:j.map((function(t,n){var r=t.itemType.__typename,o=k.includes(n+1),s=j.length-1===n;switch(r){case lt.SimpleResponse:var l=t.itemType;return l.post?i.createElement("div",{key:l.post.id,className:v(yt(e,l.post.creator,E))},i.createElement(tt,{responsePost:l.post,index:n,parentPost:a,omitBottomBorder:o||s})):null;case lt.StoryResponse:var c=t.itemType;return c.post?i.createElement(O.cW,{source:{index:n},key:c.post.id,extendSource:!0},i.createElement("div",{className:v(yt(e,c.post.creator,E))},i.createElement(ut,{storyResponse:c.post,parentPost:a,omitBottomBorder:o||s}))):null;default:return null}})),N&&i.createElement(rt,null))})):i.createElement("div",{className:v(bt)},i.createElement(I.F,{scale:"L",color:"LIGHTER"},"There are currently no responses for this story."),i.createElement(I.F,{scale:"L",color:"LIGHTER"},"Be the first to respond."))))},Pt=n(324),St=n(80637);function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot,wt=function(){return{top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,transition:"opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s",pointerEvents:"none"}},Dt="414px",Tt=function(e){return p()({width:Dt,position:"fixed",zIndex:520,backgroundColor:"white",left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:"translateX(0px)",transition:"transform 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"},(0,St.sm)(e),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:"translateY(100%)","-webkit-overflow-scrolling":"touch"})},kt=function(e,t){return function(n){if(e){var r=n.breakpoints.md-.02;return t<=r?{transform:"translateY(30px) !important"}:{transform:"translateX(-415px)"}}return{}}},Ct=function(e){return e?{opacity:1,pointerEvents:"all"}:{}},At=function(e){var t,n,r,s,a,l=e.setIsResponsesSidebarVisible,c=e.isResponsesSidebarVisible,u=e.inResponseToQuote,p=e.setInResponseToQuote,g=e.parentPost,f=(0,Pt.Uo)().baseTheme,h=(0,b.Iq)(),v=(0,Et.xg)(),E=(0,d.useLazyQuery)(m.gl,{variables:{postId:g.id,postResponsesPaging:{limit:10}},ssr:!1}),y=o()(E,2),x=y[0],P=y[1],S=P.called,I=P.loading,w=P.data,D=P.fetchMore;S||v&&!c||x();var T,k=null==w||null===(t=w.post)||void 0===t?void 0:t.responsesLocked,C=null==w||null===(n=w.post)||void 0===n?void 0:n.isLockedResponse,A=null==w||null===(r=w.post)||void 0===r?void 0:r.postResponses,_=i.useState(0),j=o()(_,2),B=j[0],L=j[1],N=i.useState(!1),U=o()(N,2),M=U[0],F=U[1];i.useEffect((function(){B||L(window.innerWidth)}),[]);var H=null==A||null===(s=A.responsesConnection)||void 0===s||null===(a=s.pagingInfo)||void 0===a?void 0:a.next;if(H){var Q={postId:g.id,postResponsesPaging:{limit:H.limit,to:H.to}};T=function(){return D({variables:Q,updateQuery:function(e,t){var n=t.fetchMoreResult;return F(!1),jt(e,n)}})}}return i.createElement(R.f6,{theme:f},i.createElement(O.cW,{source:{name:"responses",postId:g.id},extendSource:!0},i.createElement(R.xu,{print:{display:"none"}},i.createElement("div",{className:h([wt,Ct(c)]),onClick:function(){l(!1)},"aria-hidden":!c}),i.createElement("div",{className:h([Tt,kt(c,B)]),"aria-hidden":!c,onScroll:function(e){return _t(e,H,M,F,T)}},i.createElement(xt,{responses:A,parentPost:g,responsesLocked:k,isLockedResponse:C,isLoadingInitialContent:I,isFetchingNextSetOfResponses:M,isResponsesSidebarVisible:c,setIsResponsesSidebarVisible:l,inResponseToQuote:u,setInResponseToQuote:p})))))},_t=function(e,t,n,r,o){e.preventDefault();var i=e.currentTarget;i.scrollHeight-i.scrollTop-i.clientHeight<1.5*i.clientHeight&&t&&!n&&(r(!0),o())},jt=function(e,t){var n,r,o,i,s,a,l,u,p=null==t||null===(n=t.post)||void 0===n?void 0:n.postResponses,d=null==t?void 0:t.post;if(!d||!p||null===(r=p.responsesConnection)||void 0===r||!r.stream)return e;var m=(null==e||null===(o=e.post)||void 0===o||null===(i=o.postResponses)||void 0===i||null===(s=i.responsesConnection)||void 0===s?void 0:s.stream)||[],g=(null==t||null===(a=t.post)||void 0===a||null===(l=a.postResponses)||void 0===l||null===(u=l.responsesConnection)||void 0===u?void 0:u.stream)||[];return{post:It(It({},d),{},{postResponses:It(It({},p),{},{responsesConnection:It(It({},p.responsesConnection),{},{stream:[].concat(c()(m),c()(g))})})})}},Bt=n(26600),Lt=n(22091);function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.LEGACY=1]="LEGACY",e[e.STORY=2]="STORY",e[e.SIMPLE=3]="SIMPLE"}(Ot||(Ot={}));var Mt=function(e,t){return{marginBottom:t?"0px":"24px",marginLeft:"12px",borderLeft:"3px solid ".concat(e.baseColor.border.lighter)}},Ft=function(e,t){var n,r,o,i,s,a,l=null==t||null===(n=t.post)||void 0===n?void 0:n.threadedPostResponses,u=null==t?void 0:t.post,p=null==t||null===(r=t.post)||void 0===r?void 0:r.threadedPostResponses;if(!(u&&l&&l.posts&&p))return e;var d=(null==e||null===(o=e.post)||void 0===o||null===(i=o.threadedPostResponses)||void 0===i?void 0:i.posts)||[],m=(null==t||null===(s=t.post)||void 0===s||null===(a=s.threadedPostResponses)||void 0===a?void 0:a.posts)||[];return{post:Ut(Ut({},u),{},{threadedPostResponses:Ut(Ut({},p),{},{posts:[].concat(c()(d),c()(m))})})}},Ht=function(e){var t,n=e.replies,r=e.parentPost,o=e.inResponseToPostId,s=e.threadDepth,a=void 0===s?0:s,l=e.displayBottomBorder,c=void 0!==l&&l;return i.createElement(Lt.xu,null,null==n||null===(t=n.posts)||void 0===t?void 0:t.map((function(e,t,n){if(!e)return null;var s=t!==n.length-1||c;return i.createElement(Qt,{reply:e,parentPost:r,bottomBorder:s,index:t,inResponseToPostId:o,key:e.id,threadDepth:a})})))},Qt=function(e){var t,n,r,s,a,l,c,u,p=e.reply,g=e.parentPost,h=e.bottomBorder,v=e.index,E=e.inResponseToPostId,y=e.threadDepth,x=void 0===y?0:y,P=(0,b.Iq)(),S=(0,b.Fg)(),R=i.useContext(f.D),w=R.responsesLocked,D=R.isLockedResponse,T=R.inResponseToQuote,k=R.setInResponseToQuote,C=R.setIsSavingResponse,A=R.sidebarRef,j=i.useState([]),B=o()(j,2),L=B[0],N=B[1],U=i.useRef(null),M=null===(t=p.creator)||void 0===t?void 0:t.name;M&&(u="Replying to ".concat(M));var H=(0,d.useLazyQuery)(m.Ag,{variables:{postId:p.id,postResponsesPaging:{limit:10}},ssr:!1}),Q=o()(H,2),V=Q[0],W=Q[1],$=W.called,z=W.data,q=W.loading,Y=W.fetchMore;i.useEffect((function(){var e;null!=U&&null!==(e=U.current)&&void 0!==e&&e.getBoundingClientRect&&U.current.getBoundingClientRect().bottom>window.innerHeight&&U.current.scrollIntoView({behavior:"smooth",block:"end"})}),[]);var G,K=null==z||null===(n=z.post)||void 0===n?void 0:n.threadedPostResponses,Z=(null==K?void 0:K.posts)&&((null===(r=p.postResponses)||void 0===r?void 0:r.count)||0)>(null===(s=K.posts)||void 0===s?void 0:s.length),X=Z&&((null==p||null===(a=p.postResponses)||void 0===a?void 0:a.count)||0)-((null==K||null===(l=K.posts)||void 0===l?void 0:l.length)||0),J=null==K||null===(c=K.pagingInfo)||void 0===c?void 0:c.next;return J&&(G=function(){return Y({variables:{postId:p.id,postResponsesPaging:{limit:J.limit,to:J.to}},updateQuery:function(e,t){var n=t.fetchMoreResult;return Ft(e,n)}})}),i.createElement(Lt.Bn,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.show;return i.createElement(Lt.Bn,null,(function(e){var o,s=e.isVisible,a=e.hide,l=e.toggle;return i.createElement(Lt.xu,{borderBottom:h?"BASE_LIGHTER":"NONE",margin:"0 24px"},i.createElement(_.H.Provider,{value:{inResponseToPostId:E,isThreadedResponsesVisible:t,toggleThreadedResponses:function(){$||V(),n()},showThreadedResponses:function(){$||V(),r()},threadDepth:x,hideCreateReply:a,toggleCreateReply:l,loadThreadedResponses:V,isThreadedResponsesQueryCalled:$,isThreadedResponsesQueryLoading:q}},i.createElement("div",{ref:0===v?U:void 0},function(e){switch(e.inResponseToType){case Ot.STORY:case Ot.LEGACY:return e.content.bodyModel.paragraphs.every((function(e){return e.type===Re.NJ.P&&0===e.markups.length}));default:return!0}}(p)?i.createElement(tt,{responsePost:p,index:v,parentPost:g,omitBottomBorder:!0}):i.createElement(O.cW,{source:{index:v},key:p.id,extendSource:!0},i.createElement(ut,{storyResponse:p,parentPost:g,omitBottomBorder:!0}))),s&&i.createElement("div",{className:P(Mt(S,t))},i.createElement(O.cW,{source:{susiEntry:"respond_sidebar"},extendSource:!0},i.createElement(Bt.z,null,i.createElement(F.Z,{parentPostId:p.id,hideReplyEditing:a,placeholder:u,showEditorHeader:!1}))))),t&&i.createElement("div",{className:P(Mt(S,Z))},q&&i.createElement(Lt.xu,{marginLeft:"24px"},i.createElement(rt,null)),(null==K?void 0:K.posts)&&(null===(o=K.posts)||void 0===o?void 0:o.length)>0&&i.createElement(f.D.Provider,{value:{setIsSavingResponse:C,responsesLocked:w,isLockedResponse:D,editingResponsesAtIndices:L,setEditingResponsesAtIndices:N,inResponseToQuote:T,setInResponseToQuote:k,sidebarRef:A}},i.createElement(Ht,{replies:K,parentPost:g,inResponseToPostId:p.id,threadDepth:x+1}))),t&&Z&&i.createElement(Lt.xu,{marginTop:"10px",marginLeft:"24px",marginBottom:"24px"},i.createElement(I.F,{color:"ACCENT",scale:"M"},i.createElement(Lt.rU,{linkStyle:"OBVIOUS",onClick:G},"Load more replies (".concat(X,")")))))}))}))};function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Wt=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.99 5.04c.26-.21.64-.22.91-.01.97.72 1.77 1.21 2.6 1.54.83.32 1.72.48 2.89.5.41.01.74.35.74.76-.02 3.62-.43 6.26-1.45 8.21-1.03 1.98-2.66 3.21-4.97 4.08a.75.75 0 0 1-.53 0c-2.25-.87-3.86-2.1-4.9-4.07-1.02-1.95-1.46-4.59-1.48-8.22 0-.41.33-.75.75-.76 1.19-.02 2.1-.18 2.92-.5.82-.32 1.6-.81 2.52-1.53zm.46.9c-.9.69-1.71 1.21-2.62 1.56a8.9 8.9 0 0 1-3.02.57c.03 3.45.46 5.82 1.36 7.51.88 1.69 2.25 2.77 4.28 3.57 2.1-.8 3.47-1.89 4.34-3.57.89-1.7 1.3-4.07 1.34-7.51a8.8 8.8 0 0 1-3-.57 11.8 11.8 0 0 1-2.68-1.56zm0 9.15a2.67 2.67 0 1 0 0-5.34 2.67 2.67 0 0 0 0 5.34zm0 1a3.67 3.67 0 1 0 0-7.34 3.67 3.67 0 0 0 0 7.34zm-1.82-3.77l.53-.53.91.92 1.63-1.63.52.53-2.15 2.15-1.44-1.44z"});const $t=function(e){return i.createElement("svg",Vt({width:25,height:25,viewBox:"0 0 25 25"},e),Wt)};var zt=function(){var e=(0,b.Iq)();return i.createElement(R.$W,{isVisible:!0,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return i.createElement(R.xu,{padding:"8px"},"View community guidelines")}},i.createElement(R.rU,{href:"https://policy.medium.com/medium-rules-30e5502c4eb4",target:"_blank",className:e((function(e){return{fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark}}}))},i.createElement($t,null)))},qt={height:"80vh",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontWeight:200},Yt=function(e){var t,n,r,s,a=e.responses,l=e.parentPost,c=e.responsesLocked,u=e.isLockedResponse,p=e.isLoadingInitialContent,d=e.isFetchingNextSetOfResponses,m=e.isResponsesSidebarVisible,g=e.setIsResponsesSidebarVisible,h=e.inResponseToQuote,v=e.setInResponseToQuote,E=e.responseCount,y=e.sidebarRef,x=(0,b.Iq)(),P=(0,Et.xg)(),S=i.useState(!1),O=o()(S,2),w=O[0],D=O[1],T=i.useState([]),k=o()(T,2),C=k[0],A=k[1],_=l.id,j=0!==(null===(t=l.postResponses)||void 0===t?void 0:t.count)?"(".concat(null===(n=l.postResponses)||void 0===n?void 0:n.count,")"):"",B=a,L=null==a||null===(r=a.pagingInfo)||void 0===r?void 0:r.next,N=(null==a?void 0:a.posts)&&E&&a.posts.length<E,U=Boolean(d&&L&&N);return i.createElement(f.D.Provider,{value:{setIsSavingResponse:D,responsesLocked:c,isLockedResponse:u,editingResponsesAtIndices:C,setEditingResponsesAtIndices:A,inResponseToQuote:h,setInResponseToQuote:v,sidebarRef:y}},m&&w&&i.createElement(R.TF,{horizontalOverride:{left:"calc(100vw - ".concat(Dt,")")}}),i.createElement(R.xu,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"24px",paddingBottom:"18px"},i.createElement(I.X6,{scale:"S"},"Responses ",j),i.createElement(R.xu,{display:"flex",flexDirection:"row"},i.createElement(zt,null),i.createElement(ft,{parentPost:l,responsesLocked:c}),i.createElement(R.xu,{position:"relative",right:"-7px"},i.createElement(vt.Z,{onClick:function(){return g(!1)},size:"REGULAR",isPositionAbsolute:!1})))),p?i.createElement(R.xu,{padding:"0 24px"},i.createElement(rt,null)):i.createElement(i.Fragment,null,!P||m?i.createElement(et,{parentPostId:_}):null,a&&0!==(null==B||null===(s=B.posts)||void 0===s?void 0:s.length)?i.createElement(R.xu,null,i.createElement(Ht,{replies:a,inResponseToPostId:l.id,parentPost:l,displayBottomBorder:U}),U&&i.createElement(R.xu,{margin:"0 24px"},i.createElement(rt,null))):i.createElement("div",{className:x(qt)},i.createElement(I.F,{scale:"L",color:"LIGHTER"},"There are currently no responses for this story."),i.createElement(I.F,{scale:"L",color:"LIGHTER"},"Be the first to respond."))))},Gt=function(){return{top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,transition:"opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s",pointerEvents:"none"}},Kt=function(e){return p()({width:"414px",position:"fixed",zIndex:520,backgroundColor:"white",left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:"translateX(0px)",transition:"transform 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"},(0,St.sm)(e),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:"translateY(100%)","-webkit-overflow-scrolling":"touch"})},Zt=function(e,t){return function(n){if(e){var r=n.breakpoints.md-.02;return t<=r?{transform:"translateY(30px) !important"}:{transform:"translateX(-415px)"}}return{}}},Xt=function(e){return e?{opacity:1,pointerEvents:"all"}:{}},Jt=function(e){var t,n,r,s,a,l,c=e.setIsResponsesSidebarVisible,u=e.isResponsesSidebarVisible,p=e.inResponseToQuote,g=e.setInResponseToQuote,f=e.parentPost,h=(0,Pt.Uo)().baseTheme,v=(0,b.Iq)(),E=(0,Et.xg)(),y=i.useRef(null),x=(0,d.useLazyQuery)(m.Ag,{variables:{postId:f.id,postResponsesPaging:{limit:10}},ssr:!1}),P=o()(x,2),S=P[0],I=P[1],w=I.called,D=I.loading,T=I.data,k=I.fetchMore;w||E&&!u||S();var C,A=null==T||null===(t=T.post)||void 0===t?void 0:t.responsesLocked,_=null==T||null===(n=T.post)||void 0===n?void 0:n.isLockedResponse,j=null==T||null===(r=T.post)||void 0===r?void 0:r.threadedPostResponses,B=(null==T||null===(s=T.post)||void 0===s||null===(a=s.postResponses)||void 0===a?void 0:a.count)||0,L=i.useState(0),N=o()(L,2),U=N[0],M=N[1],F=i.useState(!1),H=o()(F,2),Q=H[0],V=H[1];i.useEffect((function(){U||M(window.innerWidth)}),[]);var W=null==j||null===(l=j.pagingInfo)||void 0===l?void 0:l.next;return W&&(C=function(){return k({variables:{postId:f.id,postResponsesPaging:{limit:W.limit,to:W.to}},updateQuery:function(e,t){var n=t.fetchMoreResult;return V(!1),Ft(e,n)}})}),i.createElement(R.f6,{theme:h},i.createElement(O.cW,{source:{name:"responses",postId:f.id},extendSource:!0},i.createElement(R.xu,{print:{display:"none"}},i.createElement("div",{className:v([Gt,Xt(u)]),onClick:function(){c(!1)},"aria-hidden":!u}),i.createElement("div",{className:v([Kt,Zt(u,U)]),"aria-hidden":!u,onScroll:function(e){return en(e,W,Q,V,C)},ref:y},i.createElement(Yt,{responses:j,parentPost:f,responsesLocked:A,isLockedResponse:_,isLoadingInitialContent:D,isFetchingNextSetOfResponses:Q,isResponsesSidebarVisible:u,setIsResponsesSidebarVisible:c,inResponseToQuote:p,setInResponseToQuote:g,responseCount:B,sidebarRef:y})))))},en=function(e,t,n,r,o){e.preventDefault();var i=e.currentTarget;i.scrollHeight-i.scrollTop-i.clientHeight<1.5*i.clientHeight&&t&&!n&&(r(!0),o())},tn=function(e){var t=e.children,n=e.post,r=Boolean((0,x.P5)("enable_lite_threaded_responses")),l=(0,s.v9)((function(e){return e.navigation.responsesOpen})),c=i.useState(Boolean(l)),u=o()(c,2),p=u[0],d=u[1],m=i.useState(void 0),g=o()(m,2),f=g[0],h=g[1],v=i.useState(!1),E=o()(v,2),b=E[0],y=E[1];return b||je.V6.on("load",(function(){return y(!0)})),i.createElement(a.f.Provider,{value:{openSidebarToRespondToHighlight:function(e){h(e),d(!0)}}},b&&(r?i.createElement(Jt,{isResponsesSidebarVisible:p,setIsResponsesSidebarVisible:d,parentPost:n,inResponseToQuote:f,setInResponseToQuote:h}):i.createElement(At,{isResponsesSidebarVisible:p,setIsResponsesSidebarVisible:d,parentPost:n,inResponseToQuote:f,setInResponseToQuote:h})),t({show:function(){return d(!0)}}))}},37258:(e,t,n)=>{"use strict";n.d(t,{o:()=>x});var r=n(63038),o=n.n(r),i=n(28655),s=n.n(i),a=n(71439),l=n(46829),c=n(80439),u=n(67294),p=n(12291),d=n(85740),m=n(24087),g=n(90738),f=n(14414),h=n(62630),v=n(27572),E=n(11348);function b(){var e=s()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return b=function(){return e},e}var y=(0,a.Ps)(b()),x=function(e){var t=e.actionUrl,n=e.children,r=e.onSuccess,i=e.token,s=e.userId,a=(0,h.Av)(),b=!!(0,d.P5)("skip_sign_in_recaptcha"),x=u.useState(!1),P=o()(x,2),S=P[0],R=P[1],I=(0,p.v9)((function(e){return e.navigation.currentLocation})),O=(0,p.v9)((function(e){return e.session.user.id})),w=function(){R(!1)},D=(0,v.pK)(),T=(0,v.hp)(),k=t&&i?(0,f.hQ)(I,D,T,t,i):(0,f.hQ)(I,D,T),C=(0,l.useQuery)(m.e),A=C.loading,_=C.error,j=C.data,B=(j=void 0===j?{viewer:void 0}:j).viewer;return A||_?u.createElement(u.Fragment,null):u.createElement(c.mm,{mutation:y,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":a.event("site.loginLinkSent",{}),r&&r();break;case"FailedChallenge":a.event("site.loginByEmailCaptchaFailure",{}),R(!1);break;case"BadRequest":case"NotFound":default:w()}},onError:w},(function(e){var t=function(t){var n=B?B.id:O;(0,E.Zs)(!0,n,s,"Email",!1);var r="medium";a.event("susi.methodClicked",{entryPoint:T,operation:"login",susiMethod:r.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:r.toLowerCase(),alternateUserSuggestionTargetUserId:s,alternateUserSuggestionSourceUserId:n}),e({variables:{userId:s,redirect:k,captchaValue:t}})};return u.createElement(u.Fragment,null,!b&&u.createElement(g.k,{callback:t,shouldExecuteRecaptcha:S}),n({handleSubmit:function(){return b?t(null):R(!0)}}))}))}},19608:(e,t,n)=>{"use strict";n.d(t,{r:()=>l});var r=n(67294),o=n(90174),i=n(4134),s=n(70146),a=n(37581),l=function(e){var t=e.actionUrl,n=e.token,l=e.userSocialLogins,c={actionUrl:t||"",operation:"login",token:n||"",targetUserId:l.userId,alternateUserSuggestion:!0};return r.createElement(a.$,{eventData:{operation:c.operation}},l.google?r.createElement(i.x,c):l.facebook?r.createElement(o.q,c):l.twitter?r.createElement(s.G,c):r.createElement(r.Fragment,null))}},27168:(e,t,n)=>{"use strict";n.d(t,{G:()=>m});var r=n(59713),o=n.n(r),i=n(46829),s=n(67294),a=n(12291),l=n(24087),c=n(89894),u=n(27572),p=n(85277);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=function(e){var t=e.declineSuggestedAccount,n=e.isSocial,r=(0,a.v9)((function(e){return{hasRenderedAlternateUserBanner:e.navigation.hasRenderedAlternateUserBanner}}),a.wU).hasRenderedAlternateUserBanner,m=(0,u.hp)(),g=(0,a.I0)(),f=(0,i.useQuery)(l.e),h=f.loading,v=f.error,E=f.data,b=(E=void 0===E?{viewer:void 0}:E).viewer;if(h||v)return s.createElement(s.Fragment,null);var y=function(e){return e?s.createElement(c.rU,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):s.createElement(s.Fragment,null,"Not you?"," ",s.createElement(c.rU,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",s.createElement(c.rU,{onClick:function(){return x("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},x=function(e){var n="SIGNIN_OPTIONS"===e?"login":"register";t(),g((0,p.Pc)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({operation:n,step:e},!!m&&{susiEntry:m})))};return r?y(b):b?s.createElement(c.rU,{onClick:function(){return t()}},"Not me"):y(n)}},48881:(e,t,n)=>{"use strict";n.d(t,{o:()=>P});var r=n(28655),o=n.n(r),i=n(59713),s=n.n(i),a=n(63038),l=n.n(a),c=n(46829),u=n(71439),p=n(80439),d=n(67294),m=n(12291),g=n(24087),f=n(62630),h=n(27572),v=n(51512),E=n(33572);function b(){var e=o()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return b=function(){return e},e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.children,n=e.postRenderCallback,r=(0,f.Av)(),o=(0,h.hp)(),i=(0,m.v9)((function(e){return{referrerSource:e.navigation.referrerSource,sessionUserId:e.session.user.id}}),m.wU),s=i.referrerSource,a=i.sessionUserId,u=(0,v.P7)(s||""),b=u.userId,y=u.name,P=d.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),R=l()(P,2),I=R[0],O=R[1];d.useEffect((function(){var e=I.shouldRun,t=I.showSuggestedAccount,r=I.userSocialLogins;e&&n(C,t,r)}),[I.shouldRun]);var w=(0,c.useQuery)(g.e),D=w.loading,T=w.error,k=w.data,C=(k=void 0===k?{viewer:void 0}:k).viewer;if(D||T)return d.createElement(d.Fragment,null);var A=!("email"!==y||C&&C.mediumMemberAt||!b);return A&&b?d.createElement(p.AE,{query:S,variables:{userId:b}},(function(e){var i=e.loading,s=e.error,l=e.data,c=(l=void 0===l?{}:l).userSocialLogins,u=!(i||s||!c||C&&!c.isMember||!c.facebook&&!c.google&&!c.twitter&&!c.redactedEmailAddress),p=x({loading:i,showSuggestedAccount:u},u&&{userSocialLogins:c,declineSuggestedAccount:function(){var e=(0,E.S)(c);r.event("susi.suggestNotYou",{entryPoint:o,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==c?void 0:c.userId,alternateUserSuggestionSourceUserId:C?C.id:a})}});return!n||i||I.shouldRun||O({shouldRun:!0,showSuggestedAccount:u,userSocialLogins:c}),t(p)})):(n&&!I.shouldRun&&O(x(x({},I),{},{shouldRun:!0})),t({showSuggestedAccount:A,loading:!1}))},S=(0,u.Ps)(b())},10886:(e,t,n)=>{"use strict";n.d(t,{Q:()=>O});var r=n(63038),o=n.n(r),i=n(67294),s=n(12291),a=n(51562),l=n(9785),c=n(324),u=n(37258),p=n(19608),d=n(27168),m=n(48881),g=n(59317),f=n(4709),h=n(98281),v=n(89894),E=n(80735),b=n(62630),y=n(27572),x=n(33572),P=n(81591),S=n(69332),R="alternate_user_top_banner",I=function(e){var t=e.userSocialLogins,n=(0,g.j)().openModal;return t.facebook||t.google||t.twitter?i.createElement(p.r,{userSocialLogins:t}):i.createElement(u.o,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:R})},userId:t.userId},(function(e){var t=e.handleSubmit;return i.createElement(v.zx,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},O=function(){var e=(0,l.YC)().value,t=(0,s.v9)((function(e){return e.session.user.id})),n=(0,s.I0)(),r=(0,b.Av)(),u=i.useState(!1),p=o()(u,2),g=p[0],O=p[1],w=i.useState("loading"),D=o()(w,2),T=D[0],k=D[1];return i.useEffect((function(){n((0,S.e6)(!0)),O(!0)}),[]),i.useEffect((function(){"rendered"===T&&n((0,P.T)(!0)),"not_eligible"===T&&n((0,S.e6)(!1))}),[T]),i.createElement(y.cW,{source:{susiEntry:R}},i.createElement(m.o,{postRenderCallback:function(e,n,o){k(n?"rendered":"not_eligible"),n&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:(0,x.S)(o),alternateUserSuggestionTargetUserId:o.userId,alternateUserSuggestionSourceUserId:e?e.id:t}))}},(function(n){var o,s=n.showSuggestedAccount,l=n.declineSuggestedAccount,u=n.userSocialLogins;return g&&s&&l&&u?i.createElement(c.N8,null,i.createElement(f.Y,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:(0,x.S)(u),alternateUserSuggestionTargetUserId:u.userId,alternateUserSuggestionSourceUserId:e?e.id:t})}},i.createElement(v.xu,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},i.createElement(v.xu,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(o=u.userAvatar)||void 0===o?void 0:o.imageId)&&i.createElement(v.xu,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},i.createElement(h.ZP,{scale:"S",user:u.userAvatar})),i.createElement(a.W,{featureString:"alternate-user-top-banner",target:"header"},i.createElement(E.F,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return i.createElement(i.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",i.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(e,u)))),i.createElement(v.xu,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},i.createElement(I,{userSocialLogins:u}),i.createElement(v.xu,{margin:"0 12px",sm:{margin:"24px 0 0"}},i.createElement(d.G,{declineSuggestedAccount:l,isSocial:!!(u.facebook||u.google||u.twitter)})))))):i.createElement(i.Fragment,null)})))}},94937:(e,t,n)=>{"use strict";n.d(t,{b:()=>O});var r=n(87757),o=n.n(r),i=n(48926),s=n.n(i),a=n(63038),l=n.n(a),c=n(46829),u=n(67294),p=n(12291),d=n(51562),m=n(24087),g=n(324),f=n(59317),h=n(4709),v=n(98281),E=n(89894),b=n(80735),y=n(62630),x=n(27572),P=n(51512),S=n(11348),R=n(6522),I="signin_confirmation_banner",O=function(){var e=(0,y.Av)(),t=(0,f.j)().openModal,n=u.useState(!1),r=l()(n,2),i=r[0],a=r[1],O=u.useState(!1),w=l()(O,2),D=w[0],T=w[1],k=u.useState(!0),C=l()(k,2),A=C[0],_=C[1],j=(0,c.useQuery)(m.e).data,B=(j=void 0===j?{viewer:void 0}:j).viewer,L=(0,p.v9)((function(e){return{referrerSource:e.navigation.referrerSource,xsrf:e.session.xsrf}}),p.wU),N=L.referrerSource,U=L.xsrf,M=(0,P.P7)(N||"").name;return u.useEffect((function(){return a(!0)}),[]),u.useEffect((function(){i&&B&&(e.event("experiment.eligible",{experimentId:"b4152480e71c"}),function(){var e=s()(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.vA)(null==B?void 0:B.id,U);case 2:t=e.sent,_(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),(0,S.oy)(B.id,U))}),[i]),u.useEffect((function(){D&&e.event("signInConfirmationBanner.viewed",{})}),[D]),!i||!B||!M||"login"!==M||!B.createdAt||Date.now()-B.createdAt<=5*R.uD||A?null:(D||T(!0),u.createElement(x.cW,{source:{susiEntry:I},extendSource:!0},u.createElement(g.N8,null,u.createElement(h.Y,{onClose:function(){return e.event("signInConfirmationBanner.dismissed",{})}},u.createElement(E.xu,{display:"flex",alignItems:"center"},u.createElement(E.xu,{display:"none",marginRight:"20px",sm:{display:"flex"}},u.createElement(v.ZP,{scale:"S",user:B})),u.createElement(b.F,{color:"DARKER",scale:"M"},u.createElement(d.W,{featureString:"confirm-sign-in-banner",target:"header",tag:"span"},"Welcome back. You are signed"," ",B.mediumMemberAt?"into your member account ":"in as ",u.createElement("b",null,B.email),"."," "),u.createElement(E.rU,{onClick:function(){e.event("signInConfirmationBanner.notYouClicked",{}),t({operation:"login",step:"SIGNIN_OPTIONS",susiEntry:I})},linkStyle:"OBVIOUS"},"Not you?")))))))}},4709:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(67294),o=n(28859),i=n(89894),s=function(e){var t=e.children,n=e.onClose,s=r.useRef(null),a=r.useContext(o.u6).updateWatchedBounds;return r.createElement(i.Bn,{initialVisibility:!0},(function(e){var o=e.isVisible,l=e.hide;return o&&r.createElement(i.xu,{backgroundColor:"BASE_LIGHT",borderBottom:"BASE_LIGHTER",borderTop:"BASE_LIGHTER"},r.createElement(i.Pm,null,r.createElement(i.xu,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",paddingTop:"20px"},t,r.createElement(i.PZ,{onClick:function(){n&&n(),a("byline",s,{type:"header"}),l()},isPositionAbsolute:!1,size:"REGULAR"}))))}))}},33572:(e,t,n)=>{"use strict";function r(e){if((e.match(/ /g)||[]).length>1)return"";var t=e.indexOf(" ");return e.substring(0,t)}function o(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}n.d(t,{J:()=>r,S:()=>o})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5429.75dbaa58.chunk.js.map