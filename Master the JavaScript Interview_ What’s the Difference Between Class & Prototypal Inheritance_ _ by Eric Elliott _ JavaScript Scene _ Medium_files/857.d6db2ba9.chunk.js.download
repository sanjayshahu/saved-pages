(self.webpackChunklite=self.webpackChunklite||[]).push([[857],{66371:(e,n,t)=>{"use strict";t.d(n,{Cs:()=>j,Dj:()=>Y});var r=t(28655),o=t.n(r),i=t(71439),a=t(67294),l=t(28859),s=t(63038),c=t.n(s),u=t(46829),m=t(94093),d=t(203),f=t(64033),p=t(27572),g=t(28309),v=t(72955);function _(){var e=o()(["\n  mutation unfollowUser($targetUserId: ID!) {\n    unfollowUser(targetUserId: $targetUserId) {\n      id\n      isFollowing\n    }\n  }\n"]);return _=function(){return e},e}function E(){var e=o()(["\n  mutation followUser($targetUserId: ID!) {\n    followUser(targetUserId: $targetUserId) {\n      id\n      isFollowing\n    }\n  }\n"]);return E=function(){return e},e}function h(){var e=o()(["\n  fragment DigestReferredPostBodyCreatorPromo_user on User {\n    id\n    name\n    isFollowing\n  }\n"]);return h=function(){return e},e}var P=(0,i.Ps)(h()),I=(0,i.Ps)(E()),y=(0,i.Ps)(_()),w=function(e){var n=e.creator,t=e.postId,r=a.useRef(null),o=(0,g.Iq)(),i=(0,u.useMutation)(I,{variables:{targetUserId:n.id}}),l=c()(i,1)[0],s=(0,u.useMutation)(y,{variables:{targetUserId:n.id}}),_=c()(s,1)[0],E=(0,f.Av)(),h="post_body_cta",P=a.useCallback((function(){return E.event("user.followed",{targetUserId:n.id,followSource:h}),l()}),[n.id,h,l]),w=a.useCallback((function(){return E.event("user.unfollowed",{targetUserId:n.id,followSource:h}),_()}),[n.id,h,_]),x=(0,p.pK)(),b=!1,C=function(){!b&&k()&&(E.event("post.digestReferredFollowCreatorPromoViewed",{postId:t,targetUserId:n.id,source:x}),b=!0)},k=function(){var e;if(!r.current)return!1;var n=null===(e=r.current)||void 0===e?void 0:e.getBoundingClientRect(),t=n.top+n.height/2;return t>=0&&t<=window.innerHeight};a.useEffect((function(){return C(),window&&v.V6.on("scroll",C),function(){v.V6.off("scroll",C)}}),[]);var R=n.isFollowing;return a.createElement("div",{ref:r},a.createElement(m.I,{alpha:.02,verticalMargins:{normal:"42px",small:"28px"}},R?a.createElement(a.Fragment,null,"Youâ€™re now following ",n.name,"."," ",a.createElement(d.rU,{onClick:w,inline:!0,linkStyle:"OBVIOUS"},"Unfollow")):a.createElement(a.Fragment,null,"You've read a few stories by this writer."," ",a.createElement("span",{className:o({fontWeight:"bold"})},a.createElement(d.rU,{onClick:P,linkStyle:"OBVIOUS"},"Follow ",n.name))," ","to see more of their stories across Medium.")))},x=t(4743),b=t(47875),C=t(50493),k=t(88065),R=t(47713),T=t(57131),B=t(85828),S=t(50077),U=t(49925),M=t(85740),O=t(55077),F=t(98281),N=t(22091),V=t(6688),A=t(27390);function L(){var e=o()(["\n  fragment PostBodyInserts_post on Post {\n    collection {\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...auroraHooks_publisher\n      ...DigestReferredPostBodyCreatorPromo_user\n    }\n    isPublished\n    isShortform\n    # please note that the postMeteringOptions is defined in handlers that use PostBodyInserts\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          name\n          text\n          type\n        }\n      }\n    }\n    ...CardByline_post\n    ...PostByline_post\n    ...PostFooterSocialPopover_post\n    ...ShareButtons_post\n    ...BookmarkButton_post\n    ...CreatorActionOverflowPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return L=function(){return e},e}var D=function(){return null};function H(e){var n=e.post,t=(0,V.I)(),r=(0,U.GT)(n.collection||n.creator),o={marginTop:"32px"},i={post:n,source:{name:"post_actions_header"}};return a.createElement(l.TA,{className:t(o),name:"byline",type:"byline",offset:{left:-600}},a.createElement(d.xu,{display:"flex",justifyContent:"space-between",xs:{marginTop:o.marginTop},sm:{flexDirection:"column-reverse",marginTop:o.marginTop}},r&&n.creator?a.createElement(S.u_,{avatar:a.createElement(F.ZP,{user:n.creator,scale:"XXS",link:!0,withHalo:!0}),publisher:n.creator,href:n.mediumUrl||void 0,isOneLine:!0,publishedAt:n.firstPublishedAt,showStar:!!n.isLocked,timeToRead:!n.isShortform&&n.readingTime?"".concat((0,A.Vd)(n.readingTime)," min read"):void 0,post:n}):a.createElement(b.Z,{scale:"M",post:n,showBio:!1,hideCollection:!0}),a.createElement(d.xu,{display:"flex",alignItems:"flex-end",print:{display:"none"},xs:{marginLeft:"0px",marginBottom:"30px"},sm:{marginLeft:"0px",marginBottom:"30px"},md:{marginLeft:"30px"},lg:{marginLeft:"30px"},xl:{marginLeft:"30px"}},a.createElement(d.xu,{display:"flex",alignItems:"center"},n.isPublished&&(!r||!n.isShortform)&&a.createElement(a.Fragment,null,r?a.createElement(d.xu,{paddingRight:"6px"},a.createElement(B.$,i)):a.createElement(O.n,i),a.createElement(d.xu,{marginRight:"8px"},a.createElement(p.cW,{source:{name:"post_actions_header"}},a.createElement(R.o,{post:n,susiEntry:"bookmark_preview"}))),n&&a.createElement(d.xu,{flexGrow:"1",marginRight:"-6px"},a.createElement(d.Bn,null,(function(e){var t=e.show;return a.createElement(T.Z,{creator:null==n?void 0:n.creator,post:n,collection:null==n?void 0:n.collection,showLoadingIndicator:t})}))))))))}function Z(e,n){return"".concat(n,"_").concat(e[n]?e[n].length:0)}function G(e,n,t,r,o){e[n]||(e[n]=[]),e[n].push({order:t,component:r,insertType:o})}function W(e,n,t){return function(r){var o="number"==typeof t.titleIndex,i=t.subtitleIndex||t.titleIndex||0,l=n[i]&&n[i].name;if(l&&0===i&&!o){var s=a.createElement(H,{post:e,key:"insert_postBylineGroupComponent_".concat(Z(r,"first"))});G(r,"first","before",a.createElement(N.Pm,{size:"inset",key:"insert_MaxWidth_PostBylineGroupComponent_".concat(Z(r,"first"))},s),"BYLINE")}else l&&G(r,l,"after",a.createElement(H,{post:e,key:"insert_PostBylineGroupComponent_".concat(Z(r,l))}),"BYLINE");return r}}function $(e,n,t){return(0,C.tE)(e)?function(r){var o="number"==typeof t.titleIndex,i=Math.max(t.bannerImageIndex||t.subtitleIndex||t.titleIndex||0,t.subtitleIndex||t.titleIndex||0),l=n[i]&&n[i].name;if(l&&0===i&&!o){var s=a.createElement(C.ZP,{post:e,mode:"INLINE",key:"insert_TOC_".concat(Z(r,"first"))});G(r,"first","before",a.createElement(N.Pm,{size:"inset",key:"insert_MaxWidth_TableOfContents_".concat(Z(r,"first"))},s),"TABLE_OF_CONTENTS")}else l&&G(r,l,"after",a.createElement(C.ZP,{post:e,mode:"INLINE",key:"insert_TableOfContents_".concat(Z(r,l))}),"TABLE_OF_CONTENTS");return r}:function(e){return e}}function z(e,n,t){var r=(0,x.ZV)(n),o=r.index,i=r.ordering;return"number"==typeof o&&t?function(t){var r=n[o]&&n[o].name,l=a.createElement(w,{creator:e.creator,postId:e.id,key:"insert_DigestReferredPostBodyCreatorPromo_".concat(Z(t,r))}),s=a.createElement(M.bZ,{name:"enable_digest_referred_follow_cta",placeholder:D,key:"insert_WithClientFlag_DigestReferredPostBodyCreatorPromo_".concat(Z(t,r))},(function(e){return e?l:null}));return G(t,r,i,s,"DIGEST_REFERRED_CREATOR_PROMO"),t}:function(e){return e}}function Y(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e&&e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs||void 0;if(t){var r=(0,x.LI)(t);return[W(e,t,r),$(e,t,r),z(e,t,n)].reduce((function(e,n){return n(e)}),{})}}var j=(0,i.Ps)(L(),U.C5,P,S.yu,b.H,B.u,O.$,k.z,T.G)},4442:(e,n,t)=>{"use strict";t.d(n,{mV:()=>P,Xc:()=>y,Z3:()=>I});var r=t(28655),o=t.n(r),i=t(71439),a=t(67294),l=t(12291),s=t(58864),c=t(87392),u=t(94093),m=t(203),d=t(27952);function f(){var e=o()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return f=function(){return e},e}var p=(0,i.Ps)(f()),g=function(e){var n=e.collection,t=(0,l.v9)((function(e){return e.config.authDomain})),r=n.newsletterV3||{id:"",slug:"",name:""},o=(0,d.iB)(r.slug,t,n),i=function(){return a.createElement(m.rU,{inline:!0,linkStyle:"OBVIOUS",href:o},r.name)};return a.createElement(a.Fragment,null,a.createElement(u.I,null,n.newsletterV3?a.createElement(a.Fragment,null,"This is an email from ",a.createElement(i,null),", a newsletter by ",n.name,"."):a.createElement(a.Fragment,null,"This is an email from ",n.name,".")))},v=t(78415),_=t(35002);function E(){var e=o()(["\n  fragment PostHeader_meteringInfo on MeteringInfo {\n    ...MeterController_meteringInfo\n  }\n  ","\n"]);return E=function(){return e},e}function h(){var e=o()(["\n  fragment PostHeader_post on Post {\n    inResponseToPostResult {\n      ... on PostResult {\n        ...InResponseToPostPreview_postResult\n      }\n    }\n    topics {\n      name\n    }\n    tags {\n      id\n    }\n    collection {\n      ...NewsletterV3PostHeaderCTA_collection\n    }\n    layerCake\n    isLocked\n    id\n    firstPublishedAt\n    isNewsletter\n    ...InResponseToPostPreview_mediaResource\n    ...MeterController_post\n    ...PostPaywallAlert_post\n    ...AudioPlayback_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}var P=(0,l.$j)((function(e){return{isAmp:e.config.isAmp}}))((function(e){var n=e.meteringInfo,t=e.post,r=e.isAmp,o=e.showMixtape,i=void 0===o||o;return a.createElement(m.MI,{columns:8},t.isNewsletter&&!!t.collection&&a.createElement(g,{collection:t.collection}),i&&a.createElement(v.CV,{inResponseToPostResult:t.inResponseToPostResult,inResponseToMediaResource:t.inResponseToMediaResource,padding:"10px 0 0"}),!!t.isLocked&&!!n&&a.createElement(c.rh,{meteringInfo:n,post:t}),t.audioVersionUrl&&!r&&a.createElement(s.y,{post:t}))})),I=(0,i.Ps)(h(),v.zJ,v.KI,c.Wc,_.vN,s.i,p),y=(0,i.Ps)(E(),c.dc)},56365:(e,n,t)=>{"use strict";t.d(n,{f:()=>p,w:()=>g});var r=t(28655),o=t.n(r),i=t(67154),a=t.n(i),l=t(6479),s=t.n(l),c=t(71439),u=t(67294),m=t(85489),d=t(42933);function f(){var e=o()(["\n  fragment CustomBackgroundWrapper_customStyleSheet on CustomStyleSheet {\n    id\n    global {\n      colorPalette {\n        background {\n          ...getHexFromColorValue_colorValue\n        }\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var p=function(e){var n=e.children,t=e.customStyleSheet,r=s()(e,["children","customStyleSheet"]);return u.useMemo((function(){var e,n;return(0,m.eQ)(null==t||null===(e=t.global)||void 0===e||null===(n=e.colorPalette)||void 0===n?void 0:n.background)}),[t])?u.createElement(d.Z,a()({backgroundColor:"BACKGROUND"},r),n):u.createElement(d.Z,r,n)},g=(0,c.Ps)(f(),m.xW)}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/857.d6db2ba9.chunk.js.map