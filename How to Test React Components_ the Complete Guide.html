<!DOCTYPE html>
<!-- saved from url=(0054)https://www.freecodecamp.org/news/testing-react-hooks/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>How to Test React Components: the Complete Guide</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="./How to Test React Components_ the Complete Guide_files/prism.min.css">
    <link rel="stylesheet" type="text/css" href="./How to Test React Components_ the Complete Guide_files/prism-unescaped-markup.css">

    <link href="./How to Test React Components_ the Complete Guide_files/css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./How to Test React Components_ the Complete Guide_files/screen.css">
    <link rel="stylesheet" type="text/css" href="./How to Test React Components_ the Complete Guide_files/algolia-search.css">

    <script type="text/javascript" async="" src="./How to Test React Components_ the Complete Guide_files/analytics.js.download"></script><script async="" src="./How to Test React Components_ the Complete Guide_files/gtm.js.download"></script><script src="./How to Test React Components_ the Complete Guide_files/algoliasearch.min.js.download"></script><style></style>
    <script src="./How to Test React Components_ the Complete Guide_files/autocomplete.min.js.download"></script>

    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/main.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/footer.js.download"></script>

    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/main.js(1).download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/footer.js(1).download"></script>

    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/main.js(2).download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/footer.js(2).download"></script>

    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/setup-locale.js.download"></script>


    <script src="./How to Test React Components_ the Complete Guide_files/dayjs.min.js.download"></script>
    <script src="./How to Test React Components_ the Complete Guide_files/localizedFormat.min.js.download"></script>
    <script src="./How to Test React Components_ the Complete Guide_files/relativeTime.min.js.download"></script>

    <script src="./How to Test React Components_ the Complete Guide_files/zh-cn.min.js.download"></script>


    <link rel="icon" href="https://www.freecodecamp.org/news/favicon.png" type="image/png">
    <link rel="canonical" href="https://www.freecodecamp.org/news/testing-react-hooks/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="https://www.freecodecamp.org/news/testing-react-hooks/amp/">
    
    <meta property="og:site_name" content="freeCodeCamp.org">
    <meta property="og:type" content="article">
    <meta property="og:title" content="How to Test React Components: the Complete Guide">
    <meta property="og:description" content="When I first started learning to test my apps back in the day, I would get very frustrated with the different types, styles and technologies used for testing, along with the disbanded array of blog posts, tutorials and articles. I found this to be true as well for React testing.">
    <meta property="og:url" content="https://www.freecodecamp.org/news/testing-react-hooks/">
    <meta property="og:image" content="https://www.freecodecamp.org/news/content/images/2019/07/photo-1562679817-2aac4f5581ec.jpg">
    <meta property="article:published_time" content="2019-07-11T21:18:12.000Z">
    <meta property="article:modified_time" content="2019-12-11T21:58:58.000Z">
    <meta property="article:tag" content="React">
    <meta property="article:tag" content="Software Testing">
    <meta property="article:tag" content="Jest">
    <meta property="article:tag" content="react-testing-library">
    
    <meta property="article:publisher" content="https://www.facebook.com/freecodecamp">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="How to Test React Components: the Complete Guide">
    <meta name="twitter:description" content="When I first started learning to test my apps back in the day, I would get very frustrated with the different types, styles and technologies used for testing, along with the disbanded array of blog posts, tutorials and articles. I found this to be true as well for React testing.">
    <meta name="twitter:url" content="https://www.freecodecamp.org/news/testing-react-hooks/">
    <meta name="twitter:image" content="https://www.freecodecamp.org/news/content/images/2019/07/photo-1562679817-2aac4f5581ec.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Mohammad Iqbal">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="React, Software Testing, Jest, react-testing-library">
    <meta name="twitter:site" content="@freecodecamp">
    <meta name="twitter:creator" content="@iqbal125sf">
    <meta property="og:image:width" content="1050">
    <meta property="og:image:height" content="700">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "freeCodeCamp.org",
        "url": "https://www.freecodecamp.org/news/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://www.freecodecamp.org/news/content/images/2019/11/fcc_primary_large_24X210.svg",
            "width": 210,
            "height": 24
        }
    },
    "author": {
        "@type": "Person",
        "name": "Mohammad Iqbal",
        "image": {
            "@type": "ImageObject",
            "url": "https://www.freecodecamp.org/news/content/images/2019/07/249324_201728233204474_490733_n.jpg",
            "width": 720,
            "height": 540
        },
        "url": "https://www.freecodecamp.org/news/author/iqbal125/",
        "sameAs": [
            "https://twitter.com/iqbal125sf"
        ]
    },
    "headline": "How to Test React Components: the Complete Guide",
    "url": "https://www.freecodecamp.org/news/testing-react-hooks/",
    "datePublished": "2019-07-11T21:18:12.000Z",
    "dateModified": "2019-12-11T21:58:58.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://www.freecodecamp.org/news/content/images/2019/07/photo-1562679817-2aac4f5581ec.jpg",
        "width": 1050,
        "height": 700
    },
    "keywords": "React, Software Testing, Jest, react-testing-library",
    "description": "When I first started learning to test my apps back in the day, I would get very\nfrustrated with the different types, styles and technologies used for testing,\nalong with the disbanded array of blog posts, tutorials and articles. I found\nthis to be true as well for React testing. \n\nSo I decided to just write a complete React testing guide in one article. \n\nComplete Guide, huh, are you going to cover every possible testing scenario? Of\ncourse not. However, it will be a complete foundational guide ",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://www.freecodecamp.org/news/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.39">
    <link rel="alternate" type="application/rss+xml" title="freeCodeCamp.org" href="https://www.freecodecamp.org/news/rss/">
    <!-- This is related to https://webmonetization.org/ -->
<meta name="monetization" content="$ilp.uphold.com/LJmbPn7WD4JB">
<!-- GAP -->


<!-- Google Tag Manager -->
<script>
  // Set up dataLayer with data if provided
  window.dataLayer = window.dataLayer || [{ gaPropertyId: 'UA-55446531-20' }];

  // Initialized GTM via gtag
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-55446531-20');

  // Configure and initialize GTM
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl+'&gtm_cookies_win=x';f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer', 'GTM-5D6RKKP');
</script>
<!-- End Google Tag Manager -->


<meta name="google-site-verification" content="b4tITLzEeeZGEpvD4mGNf3khKM4fvqejQaz9SYBQP8E">

<script async="" src="./How to Test React Components_ the Complete Guide_files/adblocker-chromeglobalinjectjs.js.download"></script><style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style></head>

<body class="post-template tag-react tag-software-testing tag-jest tag-react-testing-library" data-new-gr-c-s-check-loaded="14.1005.0" data-gr-ext-installed="">

    <div class="site-wrapper">
        <nav class="site-nav nav-padding">
    <div class="site-nav-left">
        <form id="search-form" onsubmit="submitSearch()">
  <div role="search" class="searchbox__wrapper">
    <input type="search" placeholder="Search 6,000+ tutorials" id="search-input" class="aa-input" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style=""><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Lato, sans-serif; font-size: 18px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre>
    <button type="submit" title="Submit your search query." class="ais-SearchBox-submit">
      <svg class="ais-SearchBox-submitIcon" xmlns="https://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 40 40">
        <path d="M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"></path>
      </svg>
    </button>
    <div id="dropdown-container"><span class="algolia-autocomplete" style="position: absolute; z-index: 100; display: none; direction: ltr;"><span class="aa-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="display: block; left: 0px; right: auto;"><div class="aa-dataset-1"></div></span></span></div>
  </div>
</form>

<script>
  const client = algoliasearch('QMJYL5WYTI', '89770b24481654192d7a5c402c6ad9a0');
  const index = client.initIndex(main['algolia-index-name']);
  const screenWidth = window.screen.width;
  const screenHeight = window.screen.height;
  const hitsToRender = (screenWidth >= 767 && screenHeight >= 768) ? 8 : 5;
  const searchForm = document.getElementById('search-form');
  const input = document.getElementById('search-input');
  const dropdownContainer = document.getElementById('dropdown-container');
  let searchQuery, hitSelected, hits;

  input.addEventListener('input', e => {
    searchQuery = e.target.value;
  });

  // Prevent form from being submitted with magnifying
  // glass or enter when there is no query or hits
  searchForm.addEventListener('submit', e => {
    e.preventDefault();

    submitSearch();
  });

  const search = autocomplete('#search-input', { 
      hint: false,
      keyboardShortcuts: ['s', 191],
      openOnFocus: true,
      appendTo: dropdownContainer,
      debug: true // allow tabbing through results
    }, [
    {
      source: autocomplete.sources.hits(index, { hitsPerPage: hitsToRender }),
      debounce: 250,
      templates: {
        suggestion: (suggestion, result) => {
          hits = true;
          return `
            <a href="${suggestion.url}">
              <div class="algolia-result">
                <span>${suggestion._highlightResult.title.value}</span>
              </div>
            </a>
          `;
        },
        empty: (options) => {
          hits = false;
          return `
            <div class="aa-suggestion footer-suggestion no-hits-footer">
              <div class="algolia-result">
                <span>
                  No tutorials found
                </span>
              </div>
            </div>
          `;
        },
        footer: (query, result) => {
          if (!query.isEmpty) {
            return `
              <div class="aa-suggestion footer-suggestion">
                <a id="algolia-footer-selector" href="https://www.freecodecamp.org/news/search?query=${searchQuery}">
                  <div class="algolia-result algolia-footer">
                    <span>See all results for ${searchQuery}</span>
                  </div>
                </a>
              </div>
            `;
          }
        }
      }
    }
  ]).on('autocomplete:selected', (event, suggestion, dataset, context) => {
    // If article is selected, set to URL of the article. 
    // If footer is selected, set to search results path
    hitSelected = suggestion ? suggestion.url : `https://www.freecodecamp.org/news/search?query=${searchQuery}`;

    // Let browser handle click, and do not go to selection on tab key press
    if (context.selectionMethod === 'click' || context.selectionMethod === 'tabKey') {
      return;
    }

    // Go to selected article or footer path
    if (hits) {
      window.location.assign(hitSelected);
    }
  });

  // Go to highlighted hit or search for current query
  // when magnifying glass or enter is pressed
  function submitSearch() {
    hitSelected = document.getElementsByClassName('aa-cursor')[0];

    if (hitSelected && searchQuery) {
      const articleUrl = hitSelected.querySelector('a').href;
      window.location.assign(articleUrl);
    } else if (!hitSelected && searchQuery && hits) {
      window.location.assign(`https://www.freecodecamp.org/news/search?query=${searchQuery}`);
    }
  }

  // close dropbar when clicking off 
  document.addEventListener('click', e => {
    if (e.target !== input) {
      search.autocomplete.close();
    }
  });
</script>
    </div>
    <div class="site-nav-middle">
        <a class="site-nav-logo" href="https://www.freecodecamp.org/news"><img src="./How to Test React Components_ the Complete Guide_files/fcc_primary_large_24X210.svg" alt="freeCodeCamp.org"></a>
    </div>
    <div class="site-nav-right">
        <div class="nav-group">
            <a class="nav-forum" id="nav-forum" rel="noopener noreferrer" target="_blank" href="https://forum.freecodecamp.org/">Forum</a>

            <a class="toggle-button-nav" id="nav-donate" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/donate/">
                Donate
            </a>
        </div>

    </div>
</nav>


        <a class="banner" id="banner" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/">
    <p>
        Learn to code — <span>free 3,000-hour curriculum</span>
    </p>
</a>


        <div id="error-message"></div>

        




<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-react tag-software-testing tag-jest tag-react-testing-library ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="July 11, 2019">July 11, 2019</time>
                    <span class="date-divider">/</span>
                    <a href="https://www.freecodecamp.org/news/tag/react/">
                        #React
                    </a>
                </section>
                <h1 class="post-full-title">How to Test React Components: the Complete Guide</h1>
            </header>

            <div class="post-full-author-header">


                
<section class="author-card">
    <img class="author-profile-image" src="./How to Test React Components_ the Complete Guide_files/249324_201728233204474_490733_n.jpg" alt="Mohammad Iqbal">
    <section class="author-card-content author-card-content-no-bio">
        <h4 class="author-card-name"><a href="https://www.freecodecamp.org/news/author/iqbal125/">Mohammad Iqbal</a></h4>
    </section>
</section>


            </div>

            <figure class="post-full-image">
                <img srcset="/news/content/images/size/w300/2019/07/photo-1562679817-2aac4f5581ec.jpg 300w,
                            /news/content/images/size/w600/2019/07/photo-1562679817-2aac4f5581ec.jpg 600w,
                            /news/content/images/size/w1000/2019/07/photo-1562679817-2aac4f5581ec.jpg 1000w,
                            /news/content/images/size/w2000/2019/07/photo-1562679817-2aac4f5581ec.jpg 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="./How to Test React Components_ the Complete Guide_files/photo-1562679817-2aac4f5581ec.jpg" alt="How to Test React Components: the Complete Guide" onerror="this.style.display=&#39;none&#39;">
            </figure>

            <section class="post-full-content">
                <div class="post-content">
                    <p>When I first started learning to test my apps back in the day, I would get very frustrated with the different types, styles and technologies used for testing, along with the disbanded array of blog posts, tutorials and articles. I found this to be true as well for React testing. </p><p>So I decided to just write a complete React testing guide in one article. </p><p>Complete Guide, huh, are you going to cover every possible testing scenario? Of course not. However, it will be a complete foundational guide to testing and will be enough to build off of for most other edge cases.</p><p>Also I have curated an extensive collection of blog posts, articles and tutorials in the further reading section at the end that should give you enough knowledge to be in the top 10% of developers in terms of testing.</p><p>You can find the completed project here:</p><p><a href="https://github.com/iqbal125/react-hooks-testing-complete">https://github.com/iqbal125/react-hooks-testing-complete</a><br></p><h2 id="table-of-contents">Table of Contents</h2><p><strong>	 Theory</strong></p><ul><li> What is Testing? &nbsp; </li><li> Why Test? </li><li> What to Test? </li><li> What Not to Test? </li><li> How I test</li><li> Shallow vs Mount</li><li> unit vs integration vs e to e</li></ul><p><strong>	Preliminary Info</strong></p><ul><li>a few odds and ends</li></ul><p><strong>	Enzyme</strong></p><ul><li>Enyme Setup</li><li>react-test-renderer</li><li>snapshot testing</li><li>testing implementation details</li></ul><p><strong>	React Testing Library</strong></p><ul><li>useState and props </li><li>useReducer()</li><li>useContext()</li><li>Controlled component Forms</li><li>useEffect() and Axios API requests</li></ul><p><strong>	Cypress </strong></p><ul><li>A complete end to end test</li></ul><p><strong>	Continuous Integration</strong></p><ul><li>Travis.yml</li><li>Code Coverage with coveralls </li></ul><h2 id="theory">Theory</h2><h3 id="what-is-testing">What is testing?</h3><p>Let's start at the beginning and discuss what testing is. Testing is a 3 step process that looks like this:</p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-12.png" class="kg-image" alt=""></figure><p>Arrange, your app is in a certain original state. Act, then something happens (click event, input, etc.). Then you assert, or make a hypothesis, of the new state of your app. The tests will pass if your hypothesis is correct and fail if it is wrong. </p><p>Unlike your react components, your tests are not executed in the browser. Jest is the test runner and testing framework used by React. Jest is the environment where all your tests are actually executed. This is why you do not need to import <code>expect</code> and <code>describe</code> into this file. These functions are already available globally in the jest environment. </p><p>Your tests syntax will look something like this:</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Testing sum'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should equal 4'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
       <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'also should equal 4'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>describe</code> wraps our <code>it</code> or <code>test</code> blocks, and is a way to group our tests. Both <code>it</code> and <code>test</code> are keywords and can be used interchangeably. The string will be something that should happen with your tests and will be printed to the console. <code>toBe()</code><strong> </strong>is a matcher that works with expect to allow you to make assertions. There are many more matchers and global variables offered by jest, see the links below for a complete list. </p><p><a href="https://jestjs.io/docs/en/using-matchers">https://jestjs.io/docs/en/using-matchers</a></p><p><a href="https://jestjs.io/docs/en/api">https://jestjs.io/docs/en/api</a></p><h3 id="why-test"><br><br>Why test?</h3><p>Testing is done to ensure that your app will work as intended for your end users. Having tests will make your app more robust and less error prone. It is a way to verify that the code is doing what the developers intended. </p><p>Potential Drawbacks:</p><ul><li>Writing tests is time consuming and difficult. </li><li>In certain scenarios executing tests in CI can cost actual money. </li><li>If done incorrectly, it can give you false positives. Your tests pass, but your app doesn’t function as intended. </li><li>Or false negatives. Your tests fail but your app is functioning as intended.</li></ul><p></p><h3 id="what-to-test">What to test?</h3><p>To build upon the previous point, Your tests should test the functionality of the app, that mimic how it will be used by your end users. This will give you confidence that your app will function as intended in your production environment. &nbsp;We will of course go into much more detail through out this article but this is the basic gist of it. </p><h3 id="what-not-to-test">What not to test?</h3><p>I like to use Kent C dodds philosophy here that you shouldn’t test implementation details. </p><p>Implementation details meaning testing things that are not end user functionality. We will see an example of this in the Enzyme section below. </p><p>It seems that you are testing functionality there but you are actually not. You are testing the name of the function. Because you can change the name of the function and your tests will break but your app will still work giving you a false negative. </p><p>Constantly having to worry about function and variable names is a headache, and having to rewrite tests every time you change them is tedious, I will show you a better approach. </p><p><strong>Const variables:</strong> these are unchanging variables, no need to test them. &nbsp; &nbsp;</p><p><strong>Third party libraries:</strong> It is not your job to test these libraries. It is up to the creators of these libraries to test it. If you are not sure if a library is tested you should not use it. Or you can read the source code to see if the author included tests. You can download the source code and run these tests yourself. You can also ask the author if their library is production ready or not. &nbsp; <br></p><h3 id="my-personal-philosophy-on-testing">My personal philosophy on testing</h3><p>A lot of my testing philosophy is based on Kent C dodds teachings so you will see a lot of his sentiments echoed here, but I some of my own thoughts as well.</p><p>Many integration tests. No snapshot tests. Few unit tests. Few e to e tests. </p><p>Unit testing is step above snapshot testing but its not ideal. It is however much easier to understand and maintain then snapshot testing. </p><p>Write mostly integration tests. Unit tests are good but they don't really resemble the way your end user interacts with your app. It is very easy to test implementation details with unit tests, especially with shallow render. &nbsp;</p><p>Integration tests should mock as little as possible</p><p>Do not test implementation details such as names of functions and variables. </p><p>For example if we are testing a button and change the name of the function in the onClick method from increment() to handleClick() our tests would break but our component will still function. This is bad practice because we are basically just testing the name of the function which is an implementation detail, which our end user does not care about.</p><p></p><h3 id="shallow-vs-mount">Shallow vs mount</h3><p>Mount actually executes the html, css and js code like a browser would, but does so in a simulated way. It is “headless” for example, meaning it doesn’t render or paint anything to a UI, but acts as a simulated web browser and executes the code in the background. </p><p>Not spending time painting anything to the UI makes your tests much faster. However mount tests are still much slower than shallow tests. </p><p>This is why you unmount or cleanup &nbsp;the component after each test, because it’s almost a live app and one test will affect another test. </p><p>Mount/render is typically used for integration testing and shallow is used for unit testing.</p><p>shallow rendering only renders the single component we are testing. It does not render child components. This allows us to test our component in isolation. </p><p>For example consider this child and parent component.</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> 
      <span class="token operator">&lt;</span>ChildComponent <span class="token operator">/</span><span class="token operator">&gt;</span> 
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">ChildComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span> Child components<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre><p>If we used shallow rendering of <code>App.js</code> we would get something like this, notice none of the DOM nodes for the child component are present, hence the term shallow render. </p><pre><code>&lt;App&gt;
  &lt;div&gt; 
    &lt;ChildComponent /&gt; 
  &lt;/div&gt;
&lt;/App&gt; </code></pre><p>Now we can compare this to mounting the component: </p><pre><code>&lt;App&gt;
  &lt;div&gt; 
    &lt;ChildComponent&gt; 
      &lt;div&gt;
       &lt;p&gt; Child components&lt;/p&gt;
      &lt;/div&gt;
    &lt;/ChildComponent&gt;
   &lt;/div&gt;
&lt;/App&gt; </code></pre><p>What we have above is much closer to what our app will look like in the browser, hence the superiority of mount/render. </p><h3 id="unit-vs-integration-vs-end-to-end">unit vs integration vs end to end</h3><p><strong>unit testing</strong>: testing an isolated part of your app, usually done in combination with shallow rendering. example: a component renders with the default props.</p><p><strong>integration testing:</strong> testing if different parts work or integrate with each other. Usually done with mounting or rendering a component. example: test if a child component can update context state in a parent. </p><p><strong>e to e testing</strong>: Stands for end to end. Usually a multi step test combining multiple unit and integration tests into one big test. Usually very little is mocked or stubbed. Tests are done in a simulated browser, there may or may not be a UI while the test is running. example: testing an entire authentication flow.</p><p></p><h2 id="preliminary-info">Preliminary Info</h2><p><strong>react-testing-library: </strong>I personally like to use react-testing-library but the common way is to use Enzyme. I will show you one example of Enzyme because it is important to be aware of Enzyme at a basic level and the rest of the examples with react-testing-library. </p><p><strong>Examples Outline:</strong> Our examples will follow a pattern. I will first show you the React component and then the tests for it, with detailed explanations of each. You can also follow along with the repo linked at the beginning. </p><p><strong>Configuration:</strong> I will also assume you are using create-react-app with the default testing setup with jest so I will skip manual configurations.</p><p><strong>Sinon, mocha, chai:</strong> A lot of the functionality offered by sinon is available by default with jest so you dont need sinon. Mocha and chai are a replacement for jest. Jest comes pre configured out of the box to work with your app, so it doesnt make sense to use Mocha and chai.</p><p><strong>Components Naming scheme:</strong> My naming scheme for the components is <code>&lt;TestSomething /&gt;</code> but that does not mean they are fake components in any way. They are regular React components, this is just the naming scheme.</p><p><strong>npm test and jest watch mode</strong>: <code>yarn test</code> &nbsp; worked for me. <code>npm test</code> did not work correctly with jest watch mode.</p><p><strong>testing a single file:</strong> <code>yarn test</code> name of file</p><p><strong>React Hooks vs Classes:</strong> I use React Hooks components for most of the examples but due to the power of react-testing-library all these tests will directly work with class components as well. </p><p>With the preliminary background info out of the way we can go over some code.</p><p></p><h2 id="enzyme">Enzyme</h2><h3 id="enzyme-setup">Enzyme Setup</h3><p>Our third party libraries</p><p><code>npm install enzyme enzyme-to-json &nbsp;enzyme-adapter-react-16</code></p><p>Lets first start with our imports</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Basic <span class="token keyword">from</span> <span class="token string">'../basic_test'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Enzyme<span class="token punctuation">,</span> <span class="token punctuation">{</span> shallow<span class="token punctuation">,</span> render<span class="token punctuation">,</span> mount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'enzyme'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toJson <span class="token keyword">from</span> <span class="token string">'enzyme-to-json'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Adapter <span class="token keyword">from</span> <span class="token string">'enzyme-adapter-react-16'</span><span class="token punctuation">;</span>

Enzyme<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> adapter<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>We will start with our basic imports Our first 3 imports are for react and our component. </p><p>After this we import Enzyme. Then we import the toJson function from the 'enzyme-to-json' library. We will need this to convert our shallow rendered component into JSON which can be saved to the snapshot file. </p><p>Finally we import our Adapter to make enzyme work with react 16 and initialize it as shown above. </p><p><strong><br>react-test-renderer</strong></p><p>React actually comes with its own test renderer you can use instead of enzyme and the syntax will look like this. </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">// import TestRenderer from 'react-test-renderer';</span>
<span class="token comment">// import ShallowRenderer from 'react-test-renderer/shallow';</span>


<span class="token comment">// Basic Test with React-test-renderer</span>
<span class="token comment">// it('renders correctly react-test-renderer', () =&gt; {</span>
<span class="token comment">//   const renderer = new ShallowRenderer();</span>
<span class="token comment">//   renderer.render(&lt;Basic /&gt;);</span>
<span class="token comment">//   const result = renderer.getRenderOutput();</span>
<span class="token comment">//</span>
<span class="token comment">//   expect(result).toMatchSnapshot();</span>
<span class="token comment">// });</span></code></pre><p>But even the react-test-render docs suggest using enzyme instead because it has a slightly nicer syntax and does the same thing. Just something to be aware of. <br></p><h3 id="snapshot-testing">SnapShot Testing</h3><p>Now our first test which is a snapshot test</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'renders correctly enzyme'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">shallow</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Basic <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">toJson</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>If you have not ran this command before, a __snapshots__ folder and test.js.snap file will be created for you automatically. On every subsequent test the new snapshot will be compared to the existing snapshot file. The test will pass if the snapshot has not changed and fail if it has changed.</p><p>So essentially snapshot testing allows you to see how your component has changed since the last test, line for line. The lines of code that have changed is known as the diff.</p><p>Here is our basic component we are snapshot testing: </p><pre><code>import React from 'react';


const Basic = () =&gt; {
  return (
    &lt;div &gt;
      &lt;h1&gt; Basic Test&lt;/h1&gt;
         &lt;p&gt; This is a basic Test Component&lt;/p&gt;
    &lt;/div&gt;
  );
}

export default Basic;</code></pre><p><br>Running the above test will generate a file that will look like this. This is essentially our tree of React DOM nodes. </p><pre><code>// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`renders correctly enzyme 1`] = `
&lt;div&gt;
  &lt;h1&gt;
     Basic Test
  &lt;/h1&gt;
  &lt;p&gt;
     This is a basic Test Component
  &lt;/p&gt;
&lt;/div&gt;
`;</code></pre><p>And will produce a folder structure that will look like this: </p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-6.png" class="kg-image" alt=""></figure><p><br>Your terminal output will look like this:</p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-7.png" class="kg-image" alt=""></figure><p>However what happens if we changed our basic component to this</p><pre><code>import React from 'react';


const Basic = () =&gt; {
  return (
    &lt;div &gt;
      &lt;h1&gt; Basic Test&lt;/h1&gt;

    &lt;/div&gt;
  );
}

export default Basic;</code></pre><p>Our snapshots will now fail <br></p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-8.png" class="kg-image" alt=""></figure><p>And will also give us the diff</p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-9.png" class="kg-image" alt=""></figure><p>Just like in git the " - " before each line means it was removed. </p><p>We just need to press "w" to activate watch mode then press "u" to update the snapshot. </p><p>our snap shot file will be automatically updated with the new snapshot and will pass our tests </p><pre><code>// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`renders correctly enzyme 1`] = `
&lt;div&gt;
  &lt;h1&gt;
     Basic Test
  &lt;/h1&gt;
&lt;/div&gt;
`;</code></pre><p><br>This is it for snapshot testing but if you read my personal thoughts section you know I dont snapshot test. I included it here because like Enzyme it is very common and something you should be aware of, but below I'll try to explain why I dont use it. &nbsp;</p><p>Let's go over again what snapshot testing is. It essentially allows you to see how your component has changed since the last test. What are the benefits of this. </p><ul><li>Its very quick and easy to implement and sometimes requires only a few lines of code. </li><li>You can see if our component is rendering correctly. You can see the DOM nodes clearly with the .debug() function.<br><br></li></ul><p><strong>Cons, Arguments against snapshot testing:</strong></p><ul><li>The only thing a snapshot test does is tell you whether the syntax of your code has changed since the last test. </li><li>So what is it really testing? Some would argue not much.</li><li>Also basic rendering of the app correctly is React’s job so you're going a little into testing a third party library territory. </li><li>Also comparing diffs can be done with git version control. This should not be the job of snapshot testing.</li><li>A failed test doesn’t mean your app isn’t working as intended, only that your code has changed since the last time you ran the test. This can lead to a lot of false negatives and a lack of trust in the test. This can also lead to people just updating the test without looking too closely at it. </li><li>Snapshot testing also tells you if your JSX is syntactically correct, but again this can be easily done in the dev environment. Running a snapshot test just to check syntax errors doesnt make any sense. </li><li>It can become hard to understand what’s happening in a Snapshot test, since most people use snapshot testing with shallow rendering, which doesnt render child components so it doesnt give the developer any insights at all. &nbsp;<br></li></ul><p>See the further reading section for more info</p><p></p><h3 id="testing-implementation-details-with-enzyme">Testing Implementation details with Enzyme</h3><p>Here I will give an example on why not to test implementation details. Say we have simple counter component like so: </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>


<span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>count<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//This incorrect code will still cause tests to pass</span>
  <span class="token comment">// &lt;button onClick={this.incremen}&gt;</span>
  <span class="token comment">//   Clicked: {this.state.count}</span>
  <span class="token comment">// &lt;/button&gt;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">"counter-button"</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>incremen<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          Clicked<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Counter<span class="token punctuation">;</span></code></pre><p>You will notice I have a comment suggesting that a non-working app will still cause the tests to pass, for example by misspelling the name of the function in the onClick event. </p><p>And let's see the tests which will make it clear why. </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">'../counter'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Enzyme<span class="token punctuation">,</span> <span class="token punctuation">{</span> shallow<span class="token punctuation">,</span> render<span class="token punctuation">,</span> mount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'enzyme'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toJson <span class="token keyword">from</span> <span class="token string">'enzyme-to-json'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Adapter <span class="token keyword">from</span> <span class="token string">'enzyme-adapter-react-16'</span><span class="token punctuation">;</span>

Enzyme<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> adapter<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// incorrect function assignment in the onClick method</span>
<span class="token comment">// will still pass the tests.</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'the increment method increments count'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Counter <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token comment">// wrapper.find('button.counter-button').simulate('click')</span>
  <span class="token comment">// wrapper.setState({count: 1})</span>
  wrapper<span class="token punctuation">.</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>Running the above code will pass the tests. So will using <code>wrapper.setState()</code>. So we have passing tests with a non functional app. I dont know about you but this doesnt give me confidence that our app will function as intended for our end users. </p><p>Simulating click on the button will not pass the tests but it might give us the opposite problem, a false negative. Say we want to change the styling on the button by declaring a new CSS class for it, a very common situation. Our tests will now fail because we cant find our button anymore but our app will still be working, giving us a false negative. This is also true whenever we change the names of our functions or state variables. &nbsp;</p><p>Every time we want to change our function and CSS class names we have to rewrite our tests, a very inefficient and tedious process. </p><p>So what can we do instead? </p><h2 id="react-testing-library">React-testing-library</h2><h3 id="usestate">useState</h3><p>From the react-testing-library docs we see that the main guiding principle is </p><blockquote>The more your tests resemble the way your software is used the more confidence they can give you. </blockquote><p>We will keep this guiding principle in mind as we explore further with our tests. </p><p>Let's start with a basic React Hooks component and test the state and props. </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> <span class="token function-variable function">TestHook</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">"Initial State"</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token function-variable function">changeState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">"Initial State Changed"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> <span class="token function-variable function">changeNameToSteve</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">.</span><span class="token function">changeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>changeState<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      State Change Button
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>state<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>changeNameToSteve<span class="token punctuation">}</span><span class="token operator">&gt;</span>
       Change Name
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> TestHook<span class="token punctuation">;</span></code></pre><p>Our props are coming from the root parent component</p><pre class=" language-javascript"><code class=" language-javascript">  <span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">"Some Text"</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">"Moe"</span><span class="token punctuation">)</span>
  <span class="token operator">...</span>
      <span class="token keyword">const</span> <span class="token function-variable function">changeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Steve"</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"App"</span><span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span>Basic <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span> Counter <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span>Counter <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span> Basic Hook useState <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span>TestHook name<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span> changeName<span class="token operator">=</span><span class="token punctuation">{</span>changeName<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">...</span>     </code></pre><p>So keeping our guiding principle in mind, what will our tests look like? </p><p>The way our end user will use this app will be to: see some text on the UI, see the text in the button, then click on it, finally see some new text on UI. </p><p>This is how we will write our tests using the React testing library. </p><p>Use this command to install react testing library. </p><p><code>npm install @testing-library/react</code></p><p><strong>not </strong></p><p><code>npm install react-testing-library</code></p><p>Now for our tests</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TestHook <span class="token keyword">from</span> <span class="token string">'../test_hook.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>render<span class="token punctuation">,</span> fireEvent<span class="token punctuation">,</span> cleanup<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@testing-library/react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'../../../App'</span>

<span class="token function">afterEach</span><span class="token punctuation">(</span>cleanup<span class="token punctuation">)</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'Text in state is changed when button clicked'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> getByText <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>TestHook <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/Initial/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"Initial State"</span><span class="token punctuation">)</span>

    fireEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">"State Change Button"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/Initial/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"Initial State Changed"</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'button click changes props'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> getByText <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App<span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>TestHook <span class="token operator">/</span><span class="token operator">&gt;</span>
                               <span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">&gt;</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/Moe/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"Moe"</span><span class="token punctuation">)</span>

  fireEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">"Change Name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/Steve/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"Steve"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>We first start with our usual imports.</p><p>Next we have the <code>afterEach(cleanup)</code> function. Since we are not using shallow render we have to unmount or cleanup after every test. And this is exactly what this function is doing. </p><p><code>getByText</code> is the query method we get by using object destructuring on the value of the render function. There are several more query methods but this is the one you will want to use most of the time.</p><p>To test our state notice we are not using any function names or the names of our state variables. We are keeping with our guiding principle and not testing implementation details. Since a user will see the text on the UI, this is how we will query the DOM nodes. We will also query the button this way and click it. Finally we will query the final state based on the text as well. </p><p><code>(/Initial/i)</code> is a regex expression that returns the first node that at least contains the text "Initial". &nbsp;</p><p>We can do the same exact thing with props as well. Since the <strong>props</strong> are going to be changed in <code>App.js</code> we will need to render it along with our component. Like the previous example we are not using function and variable names. We are testing the same way a user would use our app and that is through the text they will see. </p><p>Hopefully this gives you a good idea of how to test with the <code>react-testing-library</code> and the guiding principle, you generally want to use <code>getByText</code> most of the time. There are a few exceptions we will see as we continue further. </p><p></p><h3 id="usereducer">useReducer</h3><p>Now we can test a component with the useReducer hook. We will of course need actions and reducers to work with our component so let's set them up like so: </p><p>Our reducer</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> <span class="token constant">ACTIONS</span> <span class="token keyword">from</span> <span class="token string">'./actions'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
    stateprop1<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">Reducer1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> initialState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">"SUCCESS"</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        stateprop1<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token string">"FAILURE"</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        stateprop1<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>And the actions: </p><pre><code>


export const SUCCESS = {
  type: 'SUCCESS'
}

export const FAILURE = {
  type: 'FAILURE'
}

</code></pre><p>we will keep things simple and use actions instead of action creators. </p><p>And finally the component that will use these actions and reducers: </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useReducer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> <span class="token constant">ACTIONS</span> <span class="token keyword">from</span> <span class="token string">'../store/actions'</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Reducer <span class="token keyword">from</span> <span class="token string">'../store/reducer'</span>


<span class="token keyword">const</span> <span class="token function-variable function">TestHookReducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>reducerState<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>Reducer<span class="token punctuation">.</span>Reducer1<span class="token punctuation">,</span> Reducer<span class="token punctuation">.</span>initialState<span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token function-variable function">dispatchActionSuccess</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token constant">ACTIONS</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> <span class="token function-variable function">dispatchActionFailure</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token constant">ACTIONS</span><span class="token punctuation">.</span><span class="token constant">FAILURE</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>


  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>reducerState<span class="token punctuation">.</span>stateprop1
           <span class="token operator">?</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>stateprop1 is <span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
           <span class="token punctuation">:</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>stateprop1 is <span class="token boolean">false</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">}</span>
       <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>dispatchActionSuccess<span class="token punctuation">}</span><span class="token operator">&gt;</span>
         Dispatch Success
       <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> TestHookReducer<span class="token punctuation">;</span>
</code></pre><p>This is a simple component that will change <code>stateprop1</code> from false to true by dispatching a <code>SUCCESS</code> action.</p><p>And now for our test. </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TestHookReducer <span class="token keyword">from</span> <span class="token string">'../test_hook_reducer.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>render<span class="token punctuation">,</span> fireEvent<span class="token punctuation">,</span> cleanup<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@testing-library/react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Reducer <span class="token keyword">from</span> <span class="token string">'../../store/reducer'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> <span class="token constant">ACTIONS</span> <span class="token keyword">from</span> <span class="token string">'../../store/actions'</span><span class="token punctuation">;</span>


<span class="token function">afterEach</span><span class="token punctuation">(</span>cleanup<span class="token punctuation">)</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'test the reducer and actions'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return the initial state'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>Reducer<span class="token punctuation">.</span>initialState<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span> stateprop1<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should change stateprop1 from false to true'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>Reducer<span class="token punctuation">.</span><span class="token function">Reducer1</span><span class="token punctuation">(</span>Reducer<span class="token punctuation">.</span>initialState<span class="token punctuation">,</span> <span class="token constant">ACTIONS</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span> stateprop1<span class="token punctuation">:</span> <span class="token boolean">true</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'Reducer changes stateprop1 from false to true'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token punctuation">{</span> container<span class="token punctuation">,</span> getByText <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>TestHookReducer <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/stateprop1 is/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"stateprop1 is false"</span><span class="token punctuation">)</span>

   fireEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">"Dispatch Success"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

   <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/stateprop1 is/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"stateprop1 is true"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>We first start off by testing our reducer. And we can wrap the tests for the reducer in the <code>describe</code> block. These are fairly basic tests we are using to make sure the <strong>initial state</strong> is what we want and the actions produce the output we want. </p><p>You can make an argument that testing the reducer is testing implementation details, but I found in practice that testing actions and reducers is one unit test that is always necessary. </p><p>This is a simple example so it doesn't seem like its a big deal but in larger more complex apps not testing reducers and actions can prove disastrous. So actions and reducers would be one exception to the testing implementation details rule.</p><p>Next we have our tests for the actual component. Notice again here we are not testing implementation details. We use the same pattern from the previous useState example we are getting our DOM nodes by the text and also finding and clicking the button with the text as well. </p><h3 id="usecontext">useContext</h3><p>Let's now move on and test if a child component can update the context state in a parent component. This may seem complex but it is rather simple and straight forward. </p><p>We will first need our context object that we can initialize in its own file. </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Context <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Context
</code></pre><p>We also need our parent app component which will hold the Context provider. The value passed down to the <code>Provider</code> will be the state value and the <code>setState</code> function of the <code>App.js</code> component. </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TestHookContext <span class="token keyword">from</span> <span class="token string">'./components/react-testing-lib/test_hook_context'</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> Context <span class="token keyword">from</span> <span class="token string">'./components/store/context'</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">"Some Text"</span><span class="token punctuation">)</span>
  

  <span class="token keyword">const</span> <span class="token function-variable function">changeText</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token string">"Some Other Text"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>


  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"App"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span> Basic Hook useContext<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>Context<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>changeTextProp<span class="token punctuation">:</span> changeText<span class="token punctuation">,</span>
                               stateProp<span class="token punctuation">:</span> state
                                 <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>TestHookContext <span class="token operator">/</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>Context<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code></pre><p>And for our component</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Context <span class="token keyword">from</span> <span class="token string">'../store/context'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">TestHookContext</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>Context<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>context<span class="token punctuation">.</span>changeTextProp<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        Change Text
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>context<span class="token punctuation">.</span>stateProp<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> TestHookContext<span class="token punctuation">;</span></code></pre><p>We have a simple component that displays the text we initialized in <code>App.js</code> and also we pass the <code>setState</code> function to the <code>onClick</code> method. </p><p><strong>Note:</strong> The state is changed, initialized and contained in our <code>App.js</code> component. We have simply passed down the state value and <code>setState</code> function to our child component through context, but ultimately the state is handled in the <code>App.js</code> component. This will be important to understanding our test. </p><p>And our test: </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TestHookContext <span class="token keyword">from</span> <span class="token string">'../test_hook_context.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>act<span class="token punctuation">,</span> render<span class="token punctuation">,</span> fireEvent<span class="token punctuation">,</span> cleanup<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@testing-library/react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'../../../App'</span>

<span class="token keyword">import</span> Context <span class="token keyword">from</span> <span class="token string">'../../store/context'</span><span class="token punctuation">;</span>

<span class="token function">afterEach</span><span class="token punctuation">(</span>cleanup<span class="token punctuation">)</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'Context value is updated by child component'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

   <span class="token keyword">const</span> <span class="token punctuation">{</span> container<span class="token punctuation">,</span> getByText <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App<span class="token operator">&gt;</span>
                                            <span class="token operator">&lt;</span>Context<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
                                             <span class="token operator">&lt;</span>TestHookContext <span class="token operator">/</span><span class="token operator">&gt;</span>
                                            <span class="token operator">&lt;</span><span class="token operator">/</span>Context<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
                                           <span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/Some/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"Some Text"</span><span class="token punctuation">)</span>

   fireEvent<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">"Change Text"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

   <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/Some/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"Some Other Text"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>Even for context you can see we don't break our pattern of tests, we still find and simulate our events with the text. </p><p>I have included the <code>&lt;Context.Provider/&gt;</code> and <code>&lt;TestHookContext /&gt; </code> components in the render function because it makes the code easier to read but we actually dont need either of them. Our test will still work if we passed only the <code>&lt;App /&gt;</code> component to the render function. </p><pre><code>const { container, getByText } = render(&lt;App/&gt;) </code></pre><p>Why is this the case? </p><p>Let's think back to what we know about context. All the context state is handled in <code>App.js</code>, for this reason this is the main component we are actually testing, even though it seems like we are testing the child component that uses the <strong>useContext </strong>Hook. This code also works because of <strong>mount/render</strong>. As we know in shallow render the child components are <strong>not rendered</strong>, but in mount/render they are. Since <code>&lt;Context.Provider /&gt;</code> and <code>&lt;TestHookContext /&gt;</code> are both child components of <code>&lt;App /&gt;</code> they are rendered automatically. &nbsp;</p><p></p><h3 id="controlled-component-forms">Controlled component Forms</h3><p>A controlled component form essentially means the form will work through the React state instead of the form maintaining its own state. Meaning the <code>onChange</code> handler will save the input text to the React state on every keystroke. </p><p>Testing the form will be a little bit different than what we have seen so far, but we will try to still keep our guiding principle in mind. </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">HooksForm1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>valueChange<span class="token punctuation">,</span> setValueChange<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>valueSubmit<span class="token punctuation">,</span> setValueSubmit<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token function">setValueChange</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setValueSubmit</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>text1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span> React Hooks Form <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>form data<span class="token operator">-</span>testid<span class="token operator">=</span><span class="token string">"form"</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">"text1"</span><span class="token operator">&gt;</span>Input Text<span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>input id<span class="token operator">=</span><span class="token string">"text1"</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChange<span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token string">"text"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"submit"</span><span class="token operator">&gt;</span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>React State<span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Change<span class="token punctuation">:</span> <span class="token punctuation">{</span>valueChange<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Submit Value<span class="token punctuation">:</span> <span class="token punctuation">{</span>valueSubmit<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> HooksForm1<span class="token punctuation">;</span></code></pre><p>This is a basic form we have here and we also display the value of the change and submit value in our JSX. We have the <code>data-testid="form"</code> &nbsp;attribute which we will use in our test to the query for the form. </p><p>And our tests: </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> HooksForm1 <span class="token keyword">from</span> <span class="token string">'../test_hook_form.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>render<span class="token punctuation">,</span> fireEvent<span class="token punctuation">,</span> cleanup<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@testing-library/react'</span><span class="token punctuation">;</span>

<span class="token function">afterEach</span><span class="token punctuation">(</span>cleanup<span class="token punctuation">)</span>

<span class="token comment">//testing a controlled component form.</span>
<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'Inputing text updates the state'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> getByText<span class="token punctuation">,</span> getByLabelText <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>HooksForm1 <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/Change/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"Change: "</span><span class="token punctuation">)</span>

    fireEvent<span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span><span class="token function">getByLabelText</span><span class="token punctuation">(</span><span class="token string">"Input Text:"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>target<span class="token punctuation">:</span> <span class="token punctuation">{</span>value<span class="token punctuation">:</span> <span class="token string">'Text'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/Change/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"Change: "</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>


 <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'submiting a form works correctly'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token keyword">const</span> <span class="token punctuation">{</span> getByTestId<span class="token punctuation">,</span> getByText <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>HooksForm1 <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/Submit Value/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"Submit Value: "</span><span class="token punctuation">)</span>

     fireEvent<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">"form"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>target<span class="token punctuation">:</span> <span class="token punctuation">{</span>text1<span class="token punctuation">:</span> <span class="token punctuation">{</span>value<span class="token punctuation">:</span> <span class="token string">'Text'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

     <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/Submit Value/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"Submit Value: "</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Since an empty input element does not have text, we will use a <code>getByLabelText()</code> function to get the input node. This will still be keeping with our guiding principle, since the label text is what the user will read before inputting text. </p><p>Notice we will fire the <code>.change()</code> event instead of the usual <code>.click()</code> event. We also pass in dummy data in the form of: </p><p><code>{ target: { value: "Text" } } </code></p><p>Since the value from the form will be accessed in the form of <code>event.target.value</code>, this is what we pass to the simulated event. </p><p>Since we will generally not know what the text is the user will submit, we can just use a <code>.not</code> keyword to make sure the text has changed in our render method. </p><p>We can test the submitting of the form in a similar way. &nbsp;The only difference is we use the <code>.submit()</code> event and pass in dummy data in this way: </p><p><code>{ target: { text1: { value: 'Text' } } } </code></p><p>This is how to access form data from the synthetic event when a user submits a form. where <code>text1</code> is the id of our input element. We will have to break our pattern a little bit here, and use the <code>data-testid="form"</code> &nbsp; attribute to query for the form since there is really no other way to get the form. &nbsp;</p><p>And thats it for the form. It isnt that different from our other examples. If you think you got it, let's move onto something a little more complex. </p><h3></h3><h3 id="useeffect-and-api-requests-with-axios">useEffect and API requests with axios</h3><p>Let's now see how we would test the <strong>useEffect hook</strong> and API requests. This will be fairly different than what we have seen so far. </p><p>Say we have a url passed down to a child component from the root parent. </p><pre class=" language-javascript"><code class=" language-javascript">
<span class="token operator">...</span>

     <span class="token operator">&lt;</span>TestAxios url<span class="token operator">=</span><span class="token string">'https://jsonplaceholder.typicode.com/posts/1'</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
     
 <span class="token operator">...</span> </code></pre><p>And the component itself. </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> <span class="token function-variable function">TestAxios</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token function">setState</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>


  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span> Axios Test <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>state
          <span class="token operator">?</span> <span class="token operator">&lt;</span>p data<span class="token operator">-</span>testid<span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>state<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token punctuation">:</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token operator">...</span>Loading<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> TestAxios<span class="token punctuation">;</span></code></pre><p>We simply make an API request and save the results in the local state. We also use a ternary expression in our render method to wait until the request is complete to display the title data from json placeholder. </p><p>You will notice we will again out of necessity have to make use of the <code>data-testid</code> attribute, and again it is an implementation detail since a user will not see or interact with this attribute in any way, but this is more realistic, since we will generally not know the text from a API request beforehand. </p><p>We will also be using mocks in this test. </p><p>A <strong>mock</strong> is way to simulate behavior we dont actually want to do in our tests. For example we mock API requests because we dont want to make real requests in our tests. </p><p>We dont want to make real API requests in our tests for various reasons: it will make our tests much slower, might give us a false negative, the API request will cost us money, or we will mess up our database with test data. </p><pre><code>import React from 'react';
import ReactDOM from 'react-dom';
import TestAxios from '../test_axios.js';
import {act, render, fireEvent, cleanup, waitForElement} from '@testing-library/react';

import axiosMock from "axios";

</code></pre><p>We have our usual imports but you will notice something peculiar. We are importing <code>axiosMock</code> from the <code>axios</code> library. We are not importing a mock axios object from the <code>axios</code> library. We are actually mocking the <code>axios</code> library <em>itself</em>. </p><p>How? </p><p>By using the mocking functionality offered by jest. </p><p>We first will make a <code>__mocks__</code> folder adjacent to our test folder, so something like this. </p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-13.png" class="kg-image" alt=""></figure><p></p><p>And inside the mocks folder we have an <code>axios.js</code> file and this is our fake <strong>axios </strong>library. And inside our fake <strong>axios</strong> library we have our <strong>jest mock function</strong>. </p><p>Mock functions allow us to use functions in our jest environment without having to implement the actual logic of the function. </p><p>So basically we are not going to implement the actual logic behind an axios get request. We will just use this mock function instead. </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span><span class="token punctuation">:</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>Here we have our fake get function. It is a simple function that is actually a JS object. <code>get</code> is our key and the value is the <strong>mock function</strong>. Like an <strong>axios</strong> API request, we resolve a promise. We wont pass in any data here, we will do that in our testing setup. </p><p>Now our testing setup</p><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment">//imports</span>
<span class="token operator">...</span>

<span class="token function">afterEach</span><span class="token punctuation">(</span>cleanup<span class="token punctuation">)</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'Async axios request works'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  axiosMock<span class="token punctuation">.</span>get<span class="token punctuation">.</span><span class="token function">mockResolvedValue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">:</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'some title'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">'https://jsonplaceholder.typicode.com/posts/1'</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> getByText<span class="token punctuation">,</span> getByTestId<span class="token punctuation">,</span> rerender <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>TestAxios url<span class="token operator">=</span><span class="token punctuation">{</span>url<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token regex">/...Loading/i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"...Loading"</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> resolvedEl <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">waitForElement</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">getByTestId</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolvedEl<span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">"some title"</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>axiosMock<span class="token punctuation">.</span>get<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledTimes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>axiosMock<span class="token punctuation">.</span>get<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalledWith</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>The first thing we do in our test is call our fake <strong>axios get request</strong>, and mock the resolved value with ironically the <code>mockResolvedValue</code> function offered by jest. This function does exactly what its name says, it resolves a promise with the data we pass in, which simulates what axios does. </p><p>This function has to be called before our <code>render()</code> function otherwise the test wont work. Because remember we are mocking the<strong> axios library</strong> itself. When our component runs the <code>import axios from 'axios';</code> command it will be <strong>importing our fake axios library</strong> instead of the real one and this fake axios will be substituted in our component wherever we used axios. </p><p>Next we get our "...Loading" text node since this is what will be displayed before the promise resolves. After this we a function we havent seen before the <code>waitForElement()</code> &nbsp;function, which will wait until the promise resolves before going to the next assertion. </p><p>Also notice the <strong>await</strong> and <strong>async</strong> keywords, these are used in the exact same way as they are used in a non testing environment. </p><p>Once resolved the DOM node will have the text of "some title" which is the data we passed to our fake mock axios library. </p><p>Next we make sure the request was only called once and with the right url. Even though we are testing the url we didnt make an API request with this url. </p><p>And this is it for API requests with axios. In the next section we will look at e to e tests with cypress. </p><h2 id="cypress">Cypress</h2><p>Lets now go over cypress which I believe is the best framework to run e to e tests. We are now longer in jest land, we will now be working solely with cypress which has its own testing environment and syntax.</p><p>Cypress is pretty amazing and powerful. So amazing and powerful in fact that we can run every test we just went over in one test block and watch cypress run these tests in real time in a simulated browser. </p><p>Pretty cool, huh? </p><p>I think so. Anyway, before we can do that we need to setup cypress. Surprisingly Cypress can be installed as a regular npm module. </p><p><code>npm install cypress</code></p><p>To run cypress you will need to use this command. </p><p><code>node_modules/.bin/cypress open</code></p><p>If that seems cumbersome to write every time you want open cypress so you can add it to your package.json. </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token operator">...</span>

  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"start"</span><span class="token punctuation">:</span> <span class="token string">"react-scripts start"</span><span class="token punctuation">,</span>
    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"react-scripts build"</span><span class="token punctuation">,</span>
    <span class="token string">"test"</span><span class="token punctuation">:</span> <span class="token string">"react-scripts test"</span><span class="token punctuation">,</span>
    <span class="token string">"eject"</span><span class="token punctuation">:</span> <span class="token string">"react-scripts eject"</span><span class="token punctuation">,</span>
    <span class="token string">"cypress"</span><span class="token punctuation">:</span> <span class="token string">"node_modules/.bin/cypress open"</span><span class="token punctuation">,</span> 
    
   <span class="token operator">...</span></code></pre><p>this will allow you to open up cypress with just the <code>npm run cypress</code> command. </p><p>Opening up cypress will give you a GUI that looks like this.</p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-14.png" class="kg-image" alt=""></figure><p>To actually run the cypress tests, your app will have to be running at the same time, which we will see in a second. </p><p>Running the <code>cypress open</code> command will give you a basic configuration of cypress and create some files and folders for your automatically. A cypress folder will be created in the project root. We will write our code in the integration folder. </p><p>We can begin by deleting the examples folder. Unlike jest, cypress files take a <code>.spec.js</code> extension. &nbsp;Because this is a e to e test we will run it on our main <code>App.js</code> file. So you should have a directory structure that now looks like this. </p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-21.png" class="kg-image" alt=""></figure><p></p><p>We can also set a Base url in the cypress.json file. Just like this: </p><p><code>{ "baseUrl": "<a href="http://localhost:3000/">http://localhost:3000</a>" }</code></p><p>Now for our large monolithic test </p><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token function">describe</span> <span class="token punctuation">(</span><span class="token string">'complete e to e test'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'e to e test'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    cy<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
    <span class="token comment">//counter test</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Clicked: 0"</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Clicked: 1"</span><span class="token punctuation">)</span>
    <span class="token comment">// basic hooks test</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Initial State"</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"State Change Button"</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Initial State Changed"</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Moe"</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Change Name"</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Steve"</span><span class="token punctuation">)</span>
    <span class="token comment">//useReducer test</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'stateprop1 is false'</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'Dispatch Success'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'stateprop1 is true'</span><span class="token punctuation">)</span>
    <span class="token comment">//useContext test</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Some Text"</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'Change Text'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Some Other Text"</span><span class="token punctuation">)</span>
    <span class="token comment">//form test</span>
    cy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'#text1'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'New Text {enter}'</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Change: New Text"</span><span class="token punctuation">)</span>
    cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"Submit Value: New Text"</span><span class="token punctuation">)</span>
    <span class="token comment">//axios test</span>
    cy<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'https://jsonplaceholder.typicode.com/posts/1'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">expect</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span>null
          cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>body<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>As mentioned we are running every single test we just went over in one test block. I have separated each section with a comment so it will easier to see. </p><p>Our test may look intimidating at first but most of the individual tests will follow a basic arrange-act-assert pattern. &nbsp;</p><pre class=" language-javascript"><code class=" language-javascript">
cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>Some innerHTML text <span class="token keyword">of</span> <span class="token constant">DOM</span> node<span class="token punctuation">)</span>

cy<span class="token punctuation">.</span><span class="token function">contains</span> <span class="token punctuation">(</span>text <span class="token keyword">of</span> button<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

cy<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>Updated innerHTML text <span class="token keyword">of</span> <span class="token constant">DOM</span> node<span class="token punctuation">)</span>
</code></pre><p>Since this is a e to e test you will find no mocking at all. Our app will be running in its full development version in a simulated browser with a UI. This will be as close to testing our app in realistic way as we can get. &nbsp; </p><p>Unlike unit and integration tests we do not need to explicitly assert some things. This is because some Cypress commands have built in default assertions. <strong>Default assertions</strong> are exactly what they sound like, they are asserted by default so no need to add a matcher. &nbsp;</p><p><a href="https://docs.cypress.io/guides/core-concepts/introduction-to-cypress.html#Default-Assertions"> Cypress default assertions </a></p><p>Commands are chained together so order is important and one command will wait until a previous command is completed before running. </p><p>Even when testing with cypress we will stick to our philosophy of not testing implementation details. In practice this is going to mean that we will not use html/css classes, ids or properties as selectors if we can help it. The only time we will need to use id is to get our form input element. &nbsp;</p><p>We will make use of the <code>cy.contains()</code> command which will return a DOM node with matching text. Seeing and Interacting with text on the UI is what our end user will do, so testing this way will be in line with our guiding principle. </p><p>Since we are not stubbing or mocking anything you will notice our tests will look very simplistic. This is good since this is a live running app, our tests will not have any artificial values. </p><p>In our axios test we will make a real http request to our endpoint. Making a real http request in an e to e test is common. Then we will check to see if that value is not null. Then make sure that the data of the response appears in our UI. </p><p>If done correctly you should see that cypress successfully ran the tests in chromium. <br></p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-22.png" class="kg-image" alt=""></figure><p></p><h2 id="continuous-integration">Continuous Integration</h2><p>Keeping track and Running all these tests manually can become tedious. So we have Continuous Integration, A way to automatically run our tests continuously.</p><h3 id="travis-ci">Travis CI</h3><p>To keep things simple we'll just use Travis CI for our Continuous integration. You should know though that there are much more complex CI setups using Docker and Jenkins.</p><p>You will need to sign up for a Travis and Github account, both of these are luckily free. </p><p>I would suggest just using the "Sign Up with Github" option on Travis CI. </p><p>Once there you can just go on your profile icon and click the slider button next to the repository you want CI on.</p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-15.png" class="kg-image" alt=""></figure><p>So that Travis CI knows what to do we will need to configure a .travis.yml file in our project root. </p><pre class=" language-yaml"><code class=" language-yaml"><span class="token key atrule">language</span><span class="token punctuation">:</span> node_js

<span class="token key atrule">node_js</span><span class="token punctuation">:</span> 
  <span class="token punctuation">-</span> stable
  
  
<span class="token key atrule">install</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> npm install

<span class="token key atrule">script</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> npm run test
  <span class="token punctuation">-</span> npm run coveralls</code></pre><p>This essentially tells Travis that we are using node_js, download the stable version, install the dependencies and run the npm run test and npm run coveralls command. &nbsp;</p><p>And this is it. You can know go on the dashboard and start the build. Travis will run the tests automatically and give you an output like this. &nbsp;If your tests pass you are good to go. If they fail, your build will fail and you will need to fix your code and restart the build. </p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-16.png" class="kg-image" alt=""></figure><p></p><h3 id="coveralls">Coveralls</h3><p>coverall gives us a coverage report that essentially tells us how much of our code is being tested. </p><p>You will need to sign up to coveralls and sync with your github account. Similar to Travis CI, just go to the add repos tab and turn on the repo that you also activated on Travis CI. </p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-17.png" class="kg-image" alt=""></figure><p>Next go to your package.json file and add this line of code </p><pre><code>  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test --coverage",
    "eject": "react-scripts eject",
    "cypress": "node_modules/.bin/cypress open", 
    "coveralls": "cat ./coverage/lcov.info | node node_modules/.bin/coveralls"
  },</code></pre><p>Be sure to add the <code>--coverage </code> flag to the <code>react-scripts test</code> command. This is what will generate the coverage data that coveralls will use to generate a coverage report. </p><p>And you can actually see this coverage data on the Travis CI console after your tests have ran. &nbsp;</p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-18.png" class="kg-image" alt=""></figure><p>Since we are not dealing with a private repo or Travis CI pro, we dont need to worry about repo tokens. </p><p>Once your done you can add a badge to your repo README by copying the provided link on the dashboard. </p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-19.png" class="kg-image" alt=""></figure><p></p><p>It will look like this. </p><figure class="kg-card kg-image-card"><img src="./How to Test React Components_ the Complete Guide_files/image-20.png" class="kg-image" alt=""></figure><p></p><p></p><h2 id="conclusion">Conclusion </h2><p>Count yourself among the top 20% of developers in terms of React testing skill if you made it through the entire tutorial. </p><p>Thanks for reading. cheers. </p><blockquote>You can follow me on twitter for more tutorials in the future: <a href="https://twitter.com/iqbal125sf?lang=en">https://twitter.com/iqbal125sf?lang=en</a></blockquote><p></p><h3 id="further-reading">Further Reading<br></h3><p><strong>Blog Posts:</strong></p><p><a href="https://djangostars.com/blog/what-and-how-to-test-with-enzyme-and-jest-full-instruction-on-react-component-testing/#utm_source=medium&amp;utm_medium=blog.bitsrc.io&amp;utm_campaign=react%20components%20testing&amp;utm_content=continue%20reading%20the%20original%20article%20on%20our%C2%A0blog">https://djangostars.com/blog/what-and-how-to-test-with-enzyme-and-jest-full-instruction-on-react-component-testing/</a></p><p><a href="https://engineering.ezcater.com/the-case-against-react-snapshot-testing">https://engineering.ezcater.com/the-case-against-react-snapshot-testing</a></p><p><a href="https://medium.com/@tomgold_48918/why-i-stopped-using-snapshot-testing-with-jest-3279fe41ffb2">https://medium.com/@tomgold_48918/why-i-stopped-using-snapshot-testing-with-jest-3279fe41ffb2</a></p><p><a href="https://circleci.com/blog/continuously-testing-react-applications-with-jest-and-enzyme/">https://circleci.com/blog/continuously-testing-react-applications-with-jest-and-enzyme/</a></p><p><a href="https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html">https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html</a></p><p><a href="https://willowtreeapps.com/ideas/best-practices-for-unit-testing-with-a-react-redux-approach">https://willowtreeapps.com/ideas/best-practices-for-unit-testing-with-a-react-redux-approach</a></p><p><a href="https://blog.pragmatists.com/genuine-guide-to-testing-react-redux-applications-6f3265c11f63">https://blog.pragmatists.com/genuine-guide-to-testing-react-redux-applications-6f3265c11f63</a></p><p><a href="https://hacks.mozilla.org/2018/04/testing-strategies-for-react-and-redux/">https://hacks.mozilla.org/2018/04/testing-strategies-for-react-and-redux/</a></p><p><a href="https://codeburst.io/deliberate-practice-what-i-learned-from-reading-redux-mock-store-8d2d79a4b24d">https://codeburst.io/deliberate-practice-what-i-learned-from-reading-redux-mock-store-8d2d79a4b24d</a></p><p><a href="https://www.robinwieruch.de/react-testing-tutorial/">https://www.robinwieruch.de/react-testing-tutorial/</a></p><p><a href="https://medium.com/@ryandrewjohnson/unit-testing-components-using-reacts-new-context-api-4a5219f4b3fe">https://medium.com/@ryandrewjohnson/unit-testing-components-using-reacts-new-context-api-4a5219f4b3fe</a><br><br><br></p><p><strong>Kent C dodds Posts on Testing</strong></p><p><a href="https://kentcdodds.com/blog/introducing-the-react-testing-library">https://kentcdodds.com/blog/introducing-the-react-testing-library</a></p><p><a href="https://kentcdodds.com/blog/unit-vs-integration-vs-e2e-tests">https://kentcdodds.com/blog/unit-vs-integration-vs-e2e-tests</a></p><p><a href="https://kentcdodds.com/blog/why-i-never-use-shallow-rendering">https://kentcdodds.com/blog/why-i-never-use-shallow-rendering</a></p><p><a href="https://kentcdodds.com/blog/demystifying-testing">https://kentcdodds.com/blog/demystifying-testing</a></p><p><a href="https://kentcdodds.com/blog/effective-snapshot-testing">https://kentcdodds.com/blog/effective-snapshot-testing</a></p><p><a href="https://kentcdodds.com/blog/testing-implementation-details">https://kentcdodds.com/blog/testing-implementation-details</a></p><p><a href="https://kentcdodds.com/blog/common-testing-mistakes">https://kentcdodds.com/blog/common-testing-mistakes</a></p><p><a href="https://kentcdodds.com/blog/ui-testing-myths">https://kentcdodds.com/blog/ui-testing-myths</a></p><p><a href="https://kentcdodds.com/blog/why-youve-been-bad-about-testing">https://kentcdodds.com/blog/why-youve-been-bad-about-testing</a></p><p><a href="https://kentcdodds.com/blog/the-merits-of-mocking">https://kentcdodds.com/blog/the-merits-of-mocking</a></p><p><a href="https://kentcdodds.com/blog/how-to-know-what-to-test">https://kentcdodds.com/blog/how-to-know-what-to-test</a></p><p><a href="https://kentcdodds.com/blog/avoid-the-test-user">https://kentcdodds.com/blog/avoid-the-test-user</a><br><br></p><p><strong>Cheat Sheets / github threads</strong></p><p><a href="https://devhints.io/enzyme">https://devhints.io/enzyme</a></p><p><a href="https://devhints.io/enzyme">https://devhints.io</a>/jest </p><p><a href="https://github.com/ReactTraining/react-router/tree/master/packages/react-router/modules/__tests__">https://github.com/ReactTraining/react-router/tree/master/packages/react-router/modules/__tests__</a></p><p><a href="https://github.com/airbnb/enzyme/issues/1938">https://github.com/airbnb/enzyme/issues/1938</a> </p><p><a href="https://gist.github.com/fokusferit/e4558d384e4e9cab95d04e5f35d4f913">https://gist.github.com/fokusferit/e4558d384e4e9cab95d04e5f35d4f913</a></p><p><a href="https://airbnb.io/enzyme/docs/api/selector.html">https://airbnb.io/enzyme/docs/api/selector.html</a><br><br></p><p><strong>Docs</strong></p><p><a href="https://docs.cypress.io/">https://docs.cypress.io</a></p><p><a href="https://airbnb.io/enzyme/">https://airbnb.io/enzyme/</a></p><p><a href="https://github.com/dmitry-zaets/redux-mock-store">https://github.com/dmitry-zaets/redux-mock-store</a></p><p><a href="https://jestjs.io/docs/en">https://jestjs.io/docs/en</a></p><p><a href="https://testing-library.com/docs/learning">https://testing-library.com/docs/learning</a></p><p><a href="https://sinonjs.org/releases/v7.3.2/">https://sinonjs.org/releases/v7.3.2/</a></p><p><a href="https://redux.js.org/recipes/writing-tests">https://redux.js.org/recipes/writing-tests</a></p><p><a href="https://jestjs.io/docs/en/using-matchers">https://jestjs.io/docs/en/using-matchers</a></p><p><a href="https://jestjs.io/docs/en/api">https://jestjs.io/docs/en/api</a><br></p>
                </div>
                <hr>

                <div class="post-full-author-header">
                    
<section class="author-card">
    <img class="author-profile-image" src="./How to Test React Components_ the Complete Guide_files/249324_201728233204474_490733_n.jpg" alt="Mohammad Iqbal">
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="https://www.freecodecamp.org/news/author/iqbal125/">Mohammad Iqbal</a></h4>
        <p>Read <a href="https://www.freecodecamp.org/news/author/iqbal125/">more posts</a> by this author.</p>
    </section>
</section>


                </div>
                <hr>

                <p class="social-row">

    If you read this far, tweet to the author to show them you care. <a id="tweet-btn" class="cta-button">Tweet a thanks</a>
</p>

                
<div class="learn-cta-row">
    <p>
        Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. <a class="cta-button" id="learn-to-code-cta" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/learn/">Get started</a>
    </p>
</div>

                  <script>
    // Conditionally show comments section based on publication language setting
    const showCommentsList = ['zh-cn'];

    if (showCommentsList.includes(`en`)) {
      const hostname = window.location.hostname;
      const discourseEmbedMap = {
        'www.freecodecamp.org': {
          file: 'https://forum.freecodecamp.org/srv/status',
          discourseUrl: 'https://forum.freecodecamp.org/'
        },
        'chinese.freecodecamp.org': {
          file: 'https://chinese.freecodecamp.org/forum/srv/status',
          discourseUrl: 'https://chinese.freecodecamp.org/forum/',
        },
        'dev': {
          file: 'https://forum.freecodecamp.dev/srv/status',
          discourseUrl: 'https://forum.freecodecamp.dev/'
        },
      };
      const discourseEmbedInfo = discourseEmbedMap[hostname] ? discourseEmbedMap[hostname] : discourseEmbedMap['dev'];
      const { file, discourseUrl } = discourseEmbedInfo;

      function loadDiscourseComments() {
        var xhr = new XMLHttpRequest();
        var randomNum = Math.round(Math.random() * 10000);
        xhr.open('HEAD', file + '?rand=' + randomNum, true);
        xhr.send();
        xhr.addEventListener('readystatechange', processRequest, false);
        function processRequest(e) {
          if (xhr.readyState == 4) {
            if (xhr.status >= 200 && xhr.status < 304) {
              document.getElementById('discourse-comments').innerHTML = '';
              DiscourseEmbed = {
                discourseUrl,
                discourseEmbedUrl: 'https://www.freecodecamp.org/news/testing-react-hooks/'
              };
              var d = document.createElement('script');
              d.type = 'text/javascript';
              d.async = true;
              d.src = discourseUrl + 'javascripts/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
            } else {
              document.getElementById('discourse-comments').innerHTML =
                '<div style="text-align: center;">Sorry, we could not load the comments. Please try again after some time.</div>';
            }
          }
        }
      }

      if (window && window.addEventListener) {
        // Create comments section
        const commentsDivHtml = `
          <div id='discourse-comments'>
            <button id='trigger-load-comments'>Show comments</button>
          </div>
        `;
        const fullContentSection = document.getElementsByClassName('post-full-content')[0];
        fullContentSection.insertAdjacentHTML('beforeend', commentsDivHtml);

        window.addEventListener('load', function () {
          document.getElementById('trigger-load-comments').onclick = loadDiscourseComments;
        });
      }
    }
  </script>
            </section>

        </article>
    </div>
</main>




        <footer class="site-footer">
    <div class="footer-container">
        <div class="footer-top">
            <div class="footer-desc-col">
                <p>
                    freeCodeCamp is a donor-supported tax-exempt 501(c)(3) nonprofit organization (United States Federal Tax Identification Number: 82-0779546)
                </p>
                <p>
                    Our mission: to help people learn to code for free. We accomplish this by creating thousands of videos, articles, and interactive coding lessons - all freely available to the public. We also have thousands of freeCodeCamp study groups around the world.
                </p>
                <p>
                    Donations to freeCodeCamp go toward our education initiatives, and help pay for servers, services, and staff.
                </p>
                <p class="footer-donation">
                    You can <a id="footer-donation" class="inline" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/donate/">make a tax-deductible donation here</a>.
                </p>
            </div>
            <div class="trending-guides">
                <div class="col-header">Trending Guides</div>
                <div class="trending-guides-row">
                    <div class="footer-col footer-col-1">
                        <a id="article0" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/10-to-the-power-of-0-the-zero-exponent-rule-and-the-power-of-zero-explained/">10 to the Power of 0</a>
                        <a id="article1" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/git-reset-to-remote-head-how-to-reset-a-remote-branch-to-origin/">Git Reset to Remote</a>
                        <a id="article2" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/what-is-a-correlation-coefficient-r-value-in-statistics-explains/">R Value in Statistics</a>
                        <a id="article3" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/what-is-economics/">What is Economics?</a>
                        <a id="article4" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/node-module-exports-explained-with-javascript-export-function-examples/">Module Exports</a>
                        <a id="article5" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/python-vs-javascript-what-are-the-key-differences-between-the-two-popular-programming-languages/">Python VS JavaScript</a>
                        <a id="article6" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/model-view-architecture/">Model View Controller</a>
                        <a id="article7" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/react-testing-library-tutorial-javascript-example-code/">React Testing Library</a>
                        <a id="article8" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/ascii-table-hex-to-ascii-value-character-code-chart-2/">ASCII Table Chart</a>
                        <a id="article9" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/form-validation-with-html5-and-javascript/">Data Validation</a>
                    </div>
                    <div class="footer-col footer-col-2">
                        <a id="article10" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/what-is-recursion-in-javascript/">Recursion</a>
                        <a id="article11" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/what-is-an-iso-file-explained-in-plain-english/">ISO File</a>
                        <a id="article12" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/adb-android-install-guide-drivers-and-commands/">ADB</a>
                        <a id="article13" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/mbr-vs-gpt-whats-the-difference-between-an-mbr-partition-and-a-gpt-partition-solved/">MBR VS GPT</a>
                        <a id="article14" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/javascript-debounce-example/">Debounce</a>
                        <a id="article15" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/what-is-a-helm-chart-tutorial-for-kubernetes-beginners/">Helm Chart</a>
                        <a id="article16" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/the-80-20-rule-pareto-principle-explained-in-plain-english/">80-20 Rule</a>
                        <a id="article17" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/osi-model-networking-layers-explained-in-plain-english/">OSI Model</a>
                        <a id="article18" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/html-link-code-how-to-insert-a-link-to-a-website-with-href-3/">HTML Link Code</a>
                        <a id="article19" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/what-is-sdlc-software-development-life-cycle-phases-methodologies-and-processes-explained/">SDLC</a>
                    </div>
                    <div class="footer-col footer-col-3">
                        <div class="footer-left">
                            <a id="article20" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/inductive-vs-deductive-reasoning/">Inductive VS Deductive</a>
                            <a id="article21" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/check-if-javascript-array-is-empty-or-not-with-length/">JavaScript Empty Array</a>
                            <a id="article22" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/the-best-time-to-post-on-instagram-the-best-days-and-times-to-reach-your-ig-followers/">Best Instagram Post Time</a>
                            <a id="article23" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/garbage-collection-in-java-what-is-gc-and-how-it-works-in-the-jvm/">Garbage Collection in Java</a>
                            <a id="article24" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/auto-numbering-in-excel/">Auto-Numbering in Excel</a>
                        </div>

                        <div class="footer-right">
                            <a id="article25" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/javascript-keycode-list-keypress-event-key-codes/">JavaScript Keycode List</a>
                            <a id="article26" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/javascript-array-reverse-tutorial-with-example-js-code/">JavaScript Reverse Array</a>
                            <a id="article27" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/how-to-take-a-screenshot-on-a-mac-keyboard-shortcut/">How to Screenshot on Mac</a>
                            <a id="article28" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/how-to-reverse-image-search-on-your-phone-or-desktop/">How to Reverse Image Search</a>
                            <a id="article29" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/ternary-operator-javascript-if-statement-tutorial/">Ternary Operator JavaScript</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="col-header">Our Nonprofit</div>
            <div class="footer-divider"></div>
            <div class="our-nonprofit">
                <a id="about" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/about/">About</a>
                <a id="alumni" rel="noopener noreferrer" target="_blank" href="https://www.linkedin.com/school/free-code-camp/people/">Alumni Network</a>
                <a id="open-source" rel="noopener noreferrer" target="_blank" href="https://github.com/freeCodeCamp/">Open Source</a>
                <a id="shop" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/shop/">Shop</a>
                <a id="support" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/support/">Support</a>
                <a id="sponsors" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/sponsors/">Sponsors</a>
                <a id="honesty" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/academic-honesty-policy/">Academic Honesty</a>
                <a id="coc" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/code-of-conduct/">Code of Conduct</a>
                <a id="privacy" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/privacy-policy/">Privacy Policy</a>
                <a id="tos" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/terms-of-service/">Terms of Service</a>
                <a id="copyright" rel="noopener noreferrer" target="_blank" href="https://www.freecodecamp.org/news/copyright-policy/">Copyright Policy</a>
            </div>
        </div>
    </div>
</footer>


    </div>

    <script>
        var images = document.querySelectorAll('.kg-gallery-image img');
        images.forEach(function (image) {
            var container = image.closest('.kg-gallery-image');
            var width = image.attributes.width.value;
            var height = image.attributes.height.value;
            var ratio = width / height;
            container.style.flex = ratio + ' 1 0%';
        })
    </script>

    <script src="./How to Test React Components_ the Complete Guide_files/jquery-3.2.1.min.js.download" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
        </script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/jquery.fitvids.js.download"></script>

    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-unescaped-markup.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-markup-templating.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-bash.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-c.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-clojure.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-cpp.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-csharp.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-css.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-docker.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-elixir.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-erlang.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-git.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-go.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-graphql.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-haskell.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-java.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-javascript.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-json.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-jsx.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-kotlin.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-lua.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-markup.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-php.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-python.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-r.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-ruby.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-rust.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-scala.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-sql.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-swift.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-typescript.min.js.download"></script>
    <script type="text/javascript" src="./How to Test React Components_ the Complete Guide_files/prism-yaml.min.js.download"></script>

    <script>
    // Conditionally remove social-row based on the publication language setting
    const hideSocialRowList = ['zh-cn'];
    const socialRow = document.getElementsByClassName('social-row')[0];

    if (hideSocialRowList.includes(`en`)) socialRow.remove();
    else {
        const title = `How%20to%20Test%20React%20Components%3A%20the%20Complete%20Guide`.replace(/'/g, '%27');
        const twitter = `@iqbal125sf`;
        const url = window.location;
        const thanks = `Thank%20you%20%40iqbal125sf%20for%20writing%20this%20helpful%20article.` +
            `%0A%0A${title}%0A%0A${url}`;
        const button = document.getElementById('tweet-btn');
        button.addEventListener('click', () => {
            if (twitter) {
                window.open(`https://twitter.com/intent/tweet?text=${thanks}`, `share-twitter`, `width=550, height=235`);
                return false;
            }
            else {
                window.open(`https://twitter.com/intent/tweet?text=${title}%0A%0A${url}`, `share-twitter`, `width=550, height=235`);
                return false;
            }
        });
    }
</script>

<script>
    const learnToCodeCtaAnchorEl = document.getElementById('learn-to-code-cta');

    learnToCodeCtaAnchorEl.href = main['learn-to-code-cta-url'];
</script>

<script>
    $(document).ready(function () {
        // Start fitVids
        var $postContent = $(".post-full-content");
        $postContent.fitVids();
        // End fitVids
    });
</script>

<script>
    const navForumAnchorEl = document.getElementById('nav-forum');
    const navDonateAnchorEl = document.getElementById('nav-donate');

    navForumAnchorEl.href = main['forum-url'];
    navDonateAnchorEl.href = main['donate-url'];
</script>

<script>
    const bannerAnchorEl = document.getElementById('banner');

    bannerAnchorEl.href = main['banner-url'];
</script>

<script>
    const { trending, ...otherUrls } = footer;
    const footerDonationAnchorEl = document.getElementById('footer-donation');

    Object.keys(trending).forEach(key => {
        const anchorId = key.replace(/link|title/, '');
        const trendingAnchorEl = document.getElementById(anchorId);

        if (key.includes('link')) {
            trendingAnchorEl.href = trending[key]
        } else if (key.includes('title')) {
            trendingAnchorEl.textContent = trending[key];
        }
    });

    Object.keys(otherUrls).forEach(key => {
        const footerAnchorEl = document.getElementById(key);

        footerAnchorEl.href = otherUrls[key];
    });

    footerDonationAnchorEl.href = main['donate-url'];
</script>


    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5D6RKKP"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->



</body></html>